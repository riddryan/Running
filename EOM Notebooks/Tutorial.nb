(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     58056,       1464]
NotebookOptionsPosition[     55567,       1375]
NotebookOutlinePosition[     55914,       1390]
CellTagsIndexPosition[     55871,       1387]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Stomach Running Model Tutorial", "Title",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640352555085*^9,
   3.640352557941*^9}, {3.643470402635*^9, 3.6434704046730003`*^9}, {
  3.643470725781*^9, 3.64347073009*^9}, {3.643471003184*^9, 
  3.6434710087609997`*^9}, {3.6434755945*^9, 3.643475605424*^9}, {
  3.643475673198*^9, 3.64347571977*^9}, {3.6434777562980003`*^9, 
  3.643477756994*^9}, {3.643478587084*^9, 3.643478593226*^9}}],

Cell["\<\
This notebook was constructed from the notebook SLIP.nb.  Code added or \
changed is in code block cells (light grey background) and section titles \
that have been added are in purple text.\
\>", "Text",
 CellChangeTimes->{{3.643479186884*^9, 3.6434792116070004`*^9}, {
  3.64347954995*^9, 3.6434795505810003`*^9}, {3.643479681789*^9, 
  3.643479684317*^9}}],

Cell[CellGroupData[{

Cell["Initialization", "Section",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640352555085*^9,
   3.640352557941*^9}, {3.643470402635*^9, 3.6434704046730003`*^9}, {
  3.643470725781*^9, 3.64347073009*^9}, {3.643471003184*^9, 
  3.6434710087609997`*^9}, {3.6434755945*^9, 3.643475605424*^9}, {
  3.643475673198*^9, 3.643475678426*^9}, {3.643478601524*^9, 
  3.643478603266*^9}}],

Cell["\<\
Make sure that the savename is changed to an appropiate name for the model \
that doesn\[CloseCurlyQuote]t overwrite another file.  For this tutorial, the \
matlab export file is simply Tutorial.m.  \
\>", "Text",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640352555085*^9,
   3.640352557941*^9}, {3.643470402635*^9, 3.6434704046730003`*^9}, {
  3.643470725781*^9, 3.64347073009*^9}, {3.643471003184*^9, 
  3.6434710087609997`*^9}, {3.6434755945*^9, 3.643475605424*^9}, {
  3.643475673198*^9, 3.643475678426*^9}, {3.643478601524*^9, 
  3.643478646626*^9}, {3.643479128094*^9, 3.643479179959*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Needs", "[", "\"\<DynamicsWorkbench`\>\"", "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"workdir", "=", 
   RowBox[{"Directory", "[", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"savename", "=", 
   RowBox[{"workdir", "<>", "\"\<\\\\Tutorial.m\>\""}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"NewModel", "[", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640352555085*^9,
    3.640352557941*^9}, {3.643470402635*^9, 3.6434704046730003`*^9}, {
   3.643470725781*^9, 3.64347073009*^9}, {3.643471003184*^9, 
   3.6434710087609997`*^9}, {3.6434755945*^9, 3.64347559962*^9}, 
   3.643475644347*^9, {3.643475968716*^9, 3.6434759852200003`*^9}, {
   3.643476331861*^9, 3.643476333468*^9}, {3.643478551421*^9, 
   3.6434785616359997`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Set up Bodies", "Section",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434757676359997`*^9}, {3.6434772002349997`*^9, 3.643477200723*^9}}],

Cell["\<\
The motion of the pelvis is described by two slider joints relative to \
ground.  This way of describing the motion of the pelvis is convenient for a \
running model since during aerial phase, the model makes no contact with the \
ground.\
\>", "Text",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434757676359997`*^9}, {3.6434772002349997`*^9, 3.64347723009*^9}, {
   3.6434772735950003`*^9, 3.64347731937*^9}, {3.643477362626*^9, 
   3.643477366042*^9}}],

Cell[CellGroupData[{

Cell["Pelvis", "Subsection",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434758012980003`*^9}, {3.643477015644*^9, 3.6434770171070004`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvisx", ",", "ground", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "1", "]"}]}], ",", 
    RowBox[{"Qdof", "\[Rule]", "1"}], ",", 
    RowBox[{"Udof", "\[Rule]", "1"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvis", ",", "pelvisx", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "2", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mpelvis"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "2"}], ",", 
    RowBox[{"Udof", "\[Rule]", "2"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.643475806106*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Stance Leg", "Subsection",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.643475818203*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"leghinge1", ",", "pelvis", ",", "Hinge", ",", 
    RowBox[{"Axis", "\[Rule]", 
     RowBox[{"ground", "[", "3", "]"}]}], ",", 
    RowBox[{"InbToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"RelativeTo", "\[Rule]", "ground"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "3"}], ",", 
    RowBox[{"Udof", "\[Rule]", "3"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"foot1", ",", " ", "leghinge1", ",", " ", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"leghinge1", "[", "1", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mfoot"}], ",", 
    RowBox[{"InbToJnt", "->", "0"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "4"}], ",", 
    RowBox[{"Udof", "\[Rule]", "4"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434758135550003`*^9}, {3.643476019781*^9, 3.6434760350039997`*^9}, {
   3.643476109524*^9, 3.643476118932*^9}, {3.643477335709*^9, 
   3.643477352829*^9}, {3.643478772297*^9, 3.643478775782*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Stomach",
 FontColor->RGBColor[0.5, 0, 0.5]]], "Subsection",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434758135550003`*^9}, {3.643476019781*^9, 3.6434760350039997`*^9}, {
   3.643476109524*^9, 3.643476118932*^9}, {3.643477335709*^9, 
   3.643477352829*^9}, {3.643478772297*^9, 3.643478793086*^9}}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{
    RowBox[{"AddBody", "[", 
     RowBox[{"stomach", ",", "pelvis", ",", "Slider", ",", 
      RowBox[{"TAxis", "\[Rule]", 
       RowBox[{"ground", "[", "2", "]"}]}], ",", 
      RowBox[{"Mass", "\[Rule]", "mstomach"}]}], "]"}], ";"}], "Input"], 
  "\[IndentingNewLine]"}]], "Code",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9, 3.643475659467*^9, {3.6434757628120003`*^9, 
   3.6434758135550003`*^9}, {3.643476019781*^9, 3.6434760350039997`*^9}, {
   3.643476109524*^9, 3.643476118932*^9}, {3.643477335709*^9, 
   3.643477352829*^9}, {3.643478772297*^9, 3.643478785494*^9}, 
   3.643479215531*^9, 3.643479273256*^9, {3.643479488712*^9, 
   3.6434794909119997`*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Apply Forces & Torques ", "Section",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.643475841579*^9}}],

Cell[CellGroupData[{

Cell["Gravity", "Subsection",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.6434758470030003`*^9}}],

Cell[BoxData[{
 RowBox[{
  StyleBox[
   RowBox[{"AppFrc", "[", 
    RowBox[{"pelvis", ",", " ", 
     RowBox[{
      RowBox[{"Mass", "[", "pelvis", "]"}], " ", "grav"}], ",", " ", "0"}], 
    "]"}], "Input"], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"foot1", ",", " ", 
    RowBox[{
     RowBox[{"Mass", "[", "foot1", "]"}], " ", "grav"}], ",", " ", "0"}], 
   "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.643475850099*^9}, {3.643478953144*^9, 
   3.643478953315*^9}, {3.64347909356*^9, 3.643479094135*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"stomach", ",", 
    RowBox[{
     RowBox[{"Mass", "[", "stomach", "]"}], " ", "grav"}], ",", "0"}], "]"}], 
  ";"}]], "Code",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.643475850099*^9}, {3.643478953144*^9, 
   3.643478953315*^9}, {3.64347909356*^9, 3.643479095326*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   StyleBox["grav", "Input"], 
   StyleBox[" ", "Input"], 
   StyleBox["=", "Input"], 
   StyleBox[" ", "Input"], 
   RowBox[{
    StyleBox["g", "Input"], 
    StyleBox[" ", "Input"], 
    RowBox[{
     StyleBox["(", "Input"], 
     RowBox[{
      RowBox[{
       RowBox[{
        StyleBox["-", "Input"], 
        RowBox[{"Cos", "[", "gslope", "]"}]}], 
       RowBox[{"ground", "[", "2", "]"}]}], " ", "+", " ", 
      RowBox[{
       RowBox[{"Sin", "[", "gslope", "]"}], " ", 
       RowBox[{"ground", "[", "1", "]"}]}]}], ")"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.643475850099*^9}, {3.643478953144*^9, 
   3.643478953315*^9}, {3.64347909356*^9, 3.643479095326*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Springs", "Subsection",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.6434758552349997`*^9}}],

Cell[CellGroupData[{

Cell["Stance Spring", "Subsubsection",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.64347586342*^9}, {3.643475897733*^9, 
   3.643475905422*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"pelvis", ",", " ", 
    RowBox[{"kstance", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "stancel"}], ")"}], " ", 
     RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"foot1", ",", " ", 
    RowBox[{
     RowBox[{"-", "kstance"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "stancel"}], ")"}], " ", 
     RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], 
  ";"}]}], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.64347586342*^9}, {3.643475897733*^9, 
   3.643475898131*^9}, {3.643476349965*^9, 3.6434763568859997`*^9}, {
   3.643478913041*^9, 3.6434789134230003`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Stomach Spring",
 FontColor->RGBColor[0.5, 0, 0.5]]], "Subsubsection",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.64347586342*^9}, {3.643475897733*^9, 
   3.643475898131*^9}, {3.643476349965*^9, 3.6434763568859997`*^9}, {
   3.643478913041*^9, 3.643478971599*^9}, {3.643479567533*^9, 
   3.643479574389*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"stomach", ",", 
    RowBox[{
     RowBox[{"-", "kstomach"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"q", "[", "5", "]"}], "-", "stomachl"}], ")"}], 
     RowBox[{"stomach", "[", "1", "]"}]}], ",", "0"}], "]"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"pelvis", ",", 
    RowBox[{"kstomach", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"q", "[", "5", "]"}], "-", "stomachl"}], ")"}], 
     RowBox[{"stomach", "[", "1", "]"}]}], ",", "0"}], "]"}], ";"}]}], "Code",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.64347586342*^9}, {3.643475897733*^9, 
   3.643475898131*^9}, {3.643476349965*^9, 3.6434763568859997`*^9}, {
   3.643478913041*^9, 3.64347905912*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"eom", " ", "=", " ", 
   RowBox[{"EOM", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"MM", ",", "rhs"}], "}"}], "=", 
   RowBox[{
    RowBox[{"MassMatrix", "[", "eom", "]"}], "//", "Simplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "MM", "]"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "rhs", "]"}]}], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6434758376070004`*^9, 3.64347586342*^9}, {3.643475897733*^9, 
   3.643475898131*^9}, {3.643476349965*^9, 3.6434763568859997`*^9}, {
   3.643478913041*^9, 3.6434789166870003`*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"mfoot", "+", "mpelvis", "+", "mstomach"}], "0", 
      RowBox[{
       RowBox[{"-", "mfoot"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], "0"},
     {"0", 
      RowBox[{"mfoot", "+", "mpelvis", "+", "mstomach"}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], "mstomach"},
     {
      RowBox[{
       RowBox[{"-", "mfoot"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       SubsuperscriptBox["q", "4", "2"]}], "0", "0"},
     {
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], "0", "mfoot", "0"},
     {"0", "mstomach", "0", "0", "mstomach"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.643476358125*^9, {3.643477344659*^9, 3.6434773557609997`*^9}, 
   3.6434777396879997`*^9, {3.6434792255360003`*^9, 3.643479244274*^9}, {
   3.643479311166*^9, 3.6434793457019997`*^9}, 3.643479456951*^9, 
   3.6434794932530003`*^9, 3.643479875744*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"g", " ", 
         RowBox[{"(", 
          RowBox[{"mfoot", "+", "mpelvis", "+", "mstomach"}], ")"}], " ", 
         RowBox[{"Sin", "[", "gslope", "]"}]}], "+", 
        RowBox[{"mfoot", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        RowBox[{"2", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"], " ", 
         SubscriptBox["u", "4"]}]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", "g"}], " ", 
         RowBox[{"(", 
          RowBox[{"mfoot", "+", "mpelvis", "+", "mstomach"}], ")"}], " ", 
         RowBox[{"Cos", "[", "gslope", "]"}]}], "+", 
        RowBox[{"mfoot", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "-", 
        RowBox[{"2", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"], " ", 
         SubscriptBox["u", "4"]}]}]},
      {
       RowBox[{
        RowBox[{"-", "mfoot"}], " ", 
        SubscriptBox["q", "4"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"g", " ", 
           RowBox[{"Cos", "[", 
            RowBox[{"gslope", "-", 
             SubscriptBox["q", "3"]}], "]"}]}], "+", 
          RowBox[{"2", " ", 
           SubscriptBox["u", "3"], " ", 
           SubscriptBox["u", "4"]}]}], ")"}]}]},
      {
       RowBox[{
        RowBox[{"kstance", " ", "stancel"}], "+", 
        RowBox[{"g", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "+", 
        RowBox[{
         SubscriptBox["q", "4"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "kstance"}], "+", 
           RowBox[{"mfoot", " ", 
            SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}]},
      {
       RowBox[{
        RowBox[{"-", "g"}], " ", "mstomach", " ", 
        RowBox[{"Cos", "[", "gslope", "]"}]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.643476358125*^9, {3.643477344659*^9, 3.6434773557609997`*^9}, 
   3.6434777396879997`*^9, {3.6434792255360003`*^9, 3.643479244274*^9}, {
   3.643479311166*^9, 3.6434793457019997`*^9}, 3.643479456951*^9, 
   3.6434794932530003`*^9, 3.643479875749*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Energy", "Section",
 CellChangeTimes->{{3.638543561019*^9, 3.638543630803*^9}, {3.63854399366*^9, 
   3.638544003417*^9}, {3.6387164780095*^9, 3.6387164988385*^9}, 
   3.6387168488905*^9, {3.6403526064969997`*^9, 3.640352607869*^9}, {
   3.6434760048129997`*^9, 3.64347600531*^9}, {3.643476044223*^9, 
   3.643476103597*^9}, {3.643476136453*^9, 3.6434761409630003`*^9}, {
   3.643477374955*^9, 3.643477376027*^9}}],

Cell["\<\
The mass of the foot is assumed to be zero in the limit compared to the mass \
of the pelvis.  Therefore, it\[CloseCurlyQuote]s potential and kinetic energy \
are not included in these calculations.  If you give the foot a non-zero mass \
in the matlab model, then you need to add the potential energy & kinetic \
energy of the foot to these calculations.\
\>", "Text",
 CellChangeTimes->{{3.638543561019*^9, 3.638543630803*^9}, {3.63854399366*^9, 
   3.638544003417*^9}, {3.6387164780095*^9, 3.6387164988385*^9}, 
   3.6387168488905*^9, {3.6403526064969997`*^9, 3.640352607869*^9}, {
   3.6434760048129997`*^9, 3.64347600531*^9}, {3.643476044223*^9, 
   3.643476103597*^9}, {3.643476136453*^9, 3.6434761409630003`*^9}, {
   3.643477374955*^9, 3.6434774600179996`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   StyleBox["gravE", "Input"], 
   StyleBox[" ", "Input"], 
   StyleBox["=", "Input"], 
   StyleBox[" ", "Input"], 
   RowBox[{
    StyleBox["-", "Input"], 
    RowBox[{
     StyleBox["(", "Input"], 
     RowBox[{
      RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
      RowBox[{"grav", ".", 
       RowBox[{"PosCOM", "[", "pelvis", "]"}]}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"springE", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "kstance", " ", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "stancel"}], ")"}], "^", 
      "2"}]}], " ", "+", " ", 
    RowBox[{
     RowBox[{"1", "/", "2"}], "kstomach", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"q", "[", "5", "]"}], " ", "-", " ", "stomachl"}], ")"}], "^",
       "2"}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"PE", " ", "=", " ", 
   RowBox[{
    RowBox[{"gravE", " ", "+", " ", "springE"}], " ", "//", " ", 
    "Simplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"KE", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"1", "/", "2"}], 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
        RowBox[{
         RowBox[{"VelCOM", "[", "pelvis", "]"}], ".", 
         RowBox[{"VelCOM", "[", "pelvis", "]"}]}]}], ")"}]}], "+", 
     RowBox[{
      RowBox[{"1", "/", "2"}], 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Mass", "[", "stomach", "]"}], " ", 
        RowBox[{
         RowBox[{"VelCOM", "[", "stomach", "]"}], ".", 
         RowBox[{"VelCOM", "[", "stomach", "]"}]}]}], ")"}]}]}], "//", " ", 
    "Simplify"}]}], ";"}]}], "Code",
 CellChangeTimes->{{3.638543561019*^9, 3.638543630803*^9}, {3.63854399366*^9, 
   3.638544003417*^9}, {3.6387164780095*^9, 3.6387164988385*^9}, 
   3.6387168488905*^9, {3.6403526064969997`*^9, 3.640352607869*^9}, {
   3.6434760048129997`*^9, 3.64347600531*^9}, {3.643476044223*^9, 
   3.643476103597*^9}, {3.643476136453*^9, 3.6434761367869997`*^9}, {
   3.643479713903*^9, 3.643479750966*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Constraints", "Section",
 CellChangeTimes->{{3.638543653901*^9, 3.638543738993*^9}, {3.638544087907*^9,
    3.638544096821*^9}, {3.638724992935*^9, 3.638724999889*^9}, 
   3.638725054184*^9, {3.63872516891*^9, 3.638725257726*^9}, {
   3.638725310005*^9, 3.638725337455*^9}, {3.6387257901289997`*^9, 
   3.638725796113*^9}, {3.6388080449519997`*^9, 3.638808059216*^9}, {
   3.638808105137*^9, 3.638808107887*^9}, 3.6388083748059998`*^9, 
   3.6388091443310003`*^9, {3.638812039756*^9, 3.638812049251*^9}, {
   3.638812182376*^9, 3.638812247311*^9}, {3.638812329637*^9, 
   3.638812331854*^9}, {3.638889502303*^9, 3.6388895085439997`*^9}, {
   3.640351565855*^9, 3.640351732776*^9}, {3.640351766932*^9, 
   3.640351931342*^9}, {3.640352624052*^9, 3.640352624571*^9}, {
   3.6403542383129997`*^9, 3.640354241488*^9}, {3.6434761479440002`*^9, 
   3.6434761511549997`*^9}}],

Cell["\<\
The foot is constrained to the ground in both x and y directions during \
stance phase.  During aerial phase, the foot is constrained not to move \
relative to the pelvis.  During simulation at the transition to aerial phase, \
the states of the leg are manually switched to the configuration in which it \
will land in.  This obviously gives no insight into the dynamics of how \
swinging the leg forward is accomplished, but it makes understanding the \
dynamics of the pelvis simpler.\
\>", "Text",
 CellChangeTimes->{{3.638543653901*^9, 3.638543738993*^9}, {3.638544087907*^9,
    3.638544096821*^9}, {3.638724992935*^9, 3.638724999889*^9}, 
   3.638725054184*^9, {3.63872516891*^9, 3.638725257726*^9}, {
   3.638725310005*^9, 3.638725337455*^9}, {3.6387257901289997`*^9, 
   3.638725796113*^9}, {3.6388080449519997`*^9, 3.638808059216*^9}, {
   3.638808105137*^9, 3.638808107887*^9}, 3.6388083748059998`*^9, 
   3.6388091443310003`*^9, {3.638812039756*^9, 3.638812049251*^9}, {
   3.638812182376*^9, 3.638812247311*^9}, {3.638812329637*^9, 
   3.638812331854*^9}, {3.638889502303*^9, 3.6388895085439997`*^9}, {
   3.640351565855*^9, 3.640351732776*^9}, {3.640351766932*^9, 
   3.640351931342*^9}, {3.640352624052*^9, 3.640352624571*^9}, {
   3.6403542383129997`*^9, 3.640354241488*^9}, {3.6434761479440002`*^9, 
   3.643476148323*^9}, {3.643476199637*^9, 3.643476200316*^9}, {
   3.643477501046*^9, 3.643477697347*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"velfoot", " ", "=", 
   RowBox[{
    RowBox[{"VelCOM", "[", "foot1", "]"}], " ", "//", " ", "Simplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"footconstraintx", "=", " ", 
   RowBox[{
    RowBox[{"velfoot", ".", " ", 
     RowBox[{"ground", "[", "1", "]"}]}], " ", "\[Equal]", " ", "0"}]}], " ", 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"footconstrainty", " ", "=", " ", 
   RowBox[{
    RowBox[{"velfoot", ".", " ", 
     RowBox[{"ground", "[", "2", "]"}]}], " ", "\[Equal]", " ", "0"}]}], " ", 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"airconstraintangular", " ", "=", " ", 
   RowBox[{
    RowBox[{"u", "[", "3", "]"}], "\[Equal]", "0"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"airconstraintradial", " ", "=", " ", 
    RowBox[{
     RowBox[{"u", "[", "4", "]"}], " ", "\[Equal]", " ", "0"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"definitionsOfQDots", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"q", "[", "1", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
      RowBox[{"u", "[", "1", "]"}]}], ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"q", "[", "2", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
      RowBox[{"u", "[", "2", "]"}]}], " ", ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"q", "[", "3", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
      RowBox[{"u", "[", "3", "]"}]}], ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"q", "[", "4", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
      RowBox[{"u", "[", "4", "]"}]}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"allVelocityVariables", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"u", "[", "1", "]"}], ",", 
     RowBox[{"u", "[", "2", "]"}], ",", 
     RowBox[{"u", "[", "3", "]"}], ",", 
     RowBox[{"u", "[", "4", "]"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"constraintJacobianStance", " ", "=", " ", 
   RowBox[{"LinearTerms", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"footconstraintx", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"footconstrainty", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
     "allVelocityVariables"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"constraintJacobianStanceDot", " ", "=", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"constraintJacobianStance", ",", " ", "t"}], "]"}], " ", "//.", 
    " ", "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"constraintJacobianAerial", "=", " ", 
   RowBox[{"LinearTerms", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"airconstraintangular", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"airconstraintradial", "[", 
        RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", 
     "allVelocityVariables"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"constraintJacobianAerialDot", " ", "=", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"constraintJacobianAerial", ",", " ", "t"}], "]"}], " ", "//.", 
    " ", "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.638543653901*^9, 3.638543738993*^9}, {3.638544087907*^9,
    3.638544096821*^9}, {3.638724992935*^9, 3.638724999889*^9}, 
   3.638725054184*^9, {3.63872516891*^9, 3.638725257726*^9}, {
   3.638725310005*^9, 3.638725337455*^9}, {3.6387257901289997`*^9, 
   3.638725796113*^9}, {3.6388080449519997`*^9, 3.638808059216*^9}, {
   3.638808105137*^9, 3.638808107887*^9}, 3.6388083748059998`*^9, 
   3.6388091443310003`*^9, {3.638812039756*^9, 3.638812049251*^9}, {
   3.638812182376*^9, 3.638812247311*^9}, {3.638812329637*^9, 
   3.638812331854*^9}, {3.638889502303*^9, 3.6388895085439997`*^9}, {
   3.640351565855*^9, 3.640351732776*^9}, {3.640351766932*^9, 
   3.640351931342*^9}, {3.640352624052*^9, 3.640352624571*^9}, {
   3.6403542383129997`*^9, 3.640354241488*^9}, {3.6434761479440002`*^9, 
   3.643476148323*^9}, {3.643476199637*^9, 3.643476200316*^9}, {
   3.643477501046*^9, 3.643477578635*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Kinematic Vectors", "Section",
 CellChangeTimes->{{3.6385441624230003`*^9, 3.638544302492*^9}, {
  3.6385445079110003`*^9, 3.6385445722060003`*^9}, {3.6387165056925*^9, 
  3.6387165383075*^9}, {3.640015860708*^9, 3.640015878236*^9}, {
  3.6400159274370003`*^9, 3.6400159703719997`*^9}, {3.6400160755559998`*^9, 
  3.6400160939119997`*^9}, {3.640016162336*^9, 3.64001621762*^9}, {
  3.6400164799560003`*^9, 3.6400164985629997`*^9}, {3.6400165599630003`*^9, 
  3.640016584576*^9}, {3.6400166814189997`*^9, 3.6400166852860003`*^9}, {
  3.640016785951*^9, 3.640016793017*^9}, {3.64002301174*^9, 
  3.640023014582*^9}, {3.6403526304969997`*^9, 3.640352630976*^9}, {
  3.640352713717*^9, 3.6403527170480003`*^9}, {3.640353865873*^9, 
  3.640353881648*^9}, {3.643476203255*^9, 3.643476234026*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stancefootpos", " ", "=", " ", 
   RowBox[{"PosCOM", "[", "foot1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pelvpos", " ", "=", " ", 
    RowBox[{"PosCOM", "[", "pelvis", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"stancefootvel", "=", " ", 
   RowBox[{"VelCOM", "[", "foot1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pelvvel", "=", " ", 
    RowBox[{"VelCOM", "[", "pelvis", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMpos", "  ", "=", " ", 
   RowBox[{"PosCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMvel", " ", "=", " ", 
   RowBox[{"VelCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQBmIQbdHp++SH9GvH8n3nv4LoV2q1/D+BdN/0NnEQ/U3D
jNtX5rUj13VPfhD9Yfm0uuNyrx0Deo83gOgXv9+2geic5949IPrAqcKZIFpK
f+9sEN18wGsJiOa6brwaRPdN/3caREuwBJ0D0c8u/LsKomfkCd0E0UUZuk9B
9Cu1lU8h4nafQLRLt8JnEC2yrvzPKSC9b/4lMJ3z/Py7bPnXjinW98H0qo9m
P0G0RedCMD3vvXVnDpDO2mPSDaK/aWTIJqq+dmRrnAimc55fVgTRqz4uUgLR
72rCjUD0ts+lUPrvrSQgXfny0m0QDQB+6KEb
  "]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"stomachpos", " ", "=", " ", 
   RowBox[{"PosCOM", "[", "stomach", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"stomachvel", " ", "=", " ", 
   RowBox[{"VelCOM", "[", "stomach", "]"}]}], ";"}]}], "Code",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQBmIQbdHp++SH9GvH8n3nv4LoV2q1/D+BdN/0NnEQ/U3D
jNtX5rUj13VPfhD9Yfm0uuNyrx0Deo83gOgXv9+2geic5949IPrAqcKZIFpK
f+9sEN18wGsJiOa6brwaRPdN/3caREuwBJ0D0c8u/LsKomfkCd0E0UUZuk9B
9Cu1lU8h4nafQLRLt8JnEC2yrvzPKSC9b/4lMJ3z/Py7bPnXjinW98H0qo9m
P0G0RedCMD3vvXVnDpDO2mPSDaK/aWTIJqq+dmRrnAimc55fVgTRqz4uUgLR
72rCjUD0ts+lUPrvrSQgLRN15B6IBgB30qAk
  "]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Export", "Section",
 CellChangeTimes->{{3.638544320054*^9, 3.638544478205*^9}, {3.638544579977*^9,
   3.63854462967*^9}, {3.640352702866*^9, 3.640352706888*^9}, {
  3.640353958925*^9, 3.6403539888380003`*^9}, {3.643476250391*^9, 
  3.643476252683*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\n", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"inGroundFrame2D", "[", "v_", "]"}], " ", ":=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"v", ".", 
        RowBox[{"ground", "[", "1", "]"}]}], ",", " ", 
       RowBox[{"v", ".", 
        RowBox[{"ground", "[", "2", "]"}]}]}], "}"}]}], ";"}], "\n", "\n", 
   RowBox[{"expressionsToExport", " ", "=", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "constraintJacobianStance", ",", " ", 
        "\"\<constraintJacobianStance\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
       "constraintJacobianStanceDot", ",", " ", 
        "\"\<constraintJacobianStanceDot\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
       "constraintJacobianAerial", ",", " ", 
        "\"\<constraintJacobianAerial\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
       "constraintJacobianAerialDot", ",", " ", 
        "\"\<constraintJacobianAerialDot\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"KE", ",", " ", "\"\<kineticEnergy\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"PE", ",", " ", "\"\<potentialEnergy\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"gravE", ",", " ", "\"\<PEgrav\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"springE", ",", " ", "\"\<PEspring\>\""}], "}"}], ",", "\n", 
      "    ", "\n", "    ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "stancefootpos", "]"}], ",", " ", 
        "\"\<points.stancefoot\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "pelvpos", "]"}], ",", " ", 
        "\"\<points.pelvis\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "COMpos", "]"}], ",", " ", 
        "\"\<points.COM\>\""}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "stomachpos", "]"}], ",", " ", 
        "\"\<points.stomach\>\""}], "}"}], ",", "\n", "    ", "\n", "    ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "stancefootvel", "]"}], ",", " ", 
        "\"\<vels.stancefoot\>\""}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "pelvvel", "]"}], ",", " ", 
        "\"\<vels.pelvis\>\""}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "COMvel", "]"}], ",", " ", 
        "\"\<vels.COM\>\""}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"inGroundFrame2D", "[", "stomachvel", "]"}], ",", " ", 
        "\"\<vels.stomach\>\""}], "}"}]}], "}"}]}], "\n", "\n", 
   RowBox[{"ExportCode", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"MM", ",", " ", "rhs"}], "}"}], ",", " ", 
     RowBox[{"Expressions", " ", "->", " ", "expressionsToExport"}], ",", " ", 
     RowBox[{"OutputFile", " ", "->", " ", "savename"}]}], "]"}]}]}]], "Code",
 CellChangeTimes->{{3.638544320054*^9, 3.638544478205*^9}, {3.638544579977*^9,
   3.63854462967*^9}, {3.640352702866*^9, 3.640352706888*^9}, {
  3.640353958925*^9, 3.6403539888380003`*^9}, {3.643476250391*^9, 
  3.643476250691*^9}, {3.643477715177*^9, 3.643477736991*^9}, {
  3.643479810824*^9, 3.643479870973*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0", ",", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], " ", 
          SubscriptBox["q", "4"]}], ",", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "1", ",", 
         RowBox[{
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}], " ", 
          SubscriptBox["q", "4"]}], ",", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}]}], "}"}]}], "}"}], 
     ",", "\<\"constraintJacobianStance\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "3"], "]"}]}], " ", 
           SubscriptBox["q", "4"], " ", 
           SubscriptBox["u", "3"]}], "-", 
          RowBox[{
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}], " ", 
           SubscriptBox["u", "4"]}]}], ",", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], " ", 
          SubscriptBox["u", "3"]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", 
         RowBox[{
          RowBox[{
           RowBox[{"-", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}]}], " ", 
           SubscriptBox["q", "4"], " ", 
           SubscriptBox["u", "3"]}], "+", 
          RowBox[{
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}], " ", 
           SubscriptBox["u", "4"]}]}], ",", 
         RowBox[{
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}], " ", 
          SubscriptBox["u", "3"]}]}], "}"}]}], "}"}], 
     ",", "\<\"constraintJacobianStanceDot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "1", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "1"}], "}"}]}], "}"}], 
     ",", "\<\"constraintJacobianAerial\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0", ",", "0"}], "}"}]}], "}"}], 
     ",", "\<\"constraintJacobianAerialDot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"mpelvis", " ", 
         RowBox[{"(", 
          RowBox[{
           SubsuperscriptBox["u", "1", "2"], "+", 
           SubsuperscriptBox["u", "2", "2"]}], ")"}]}], "+", 
        RowBox[{"mstomach", " ", 
         RowBox[{"(", 
          RowBox[{
           SubsuperscriptBox["u", "1", "2"], "+", 
           SuperscriptBox[
            RowBox[{"(", 
             RowBox[{
              SubscriptBox["u", "2"], "+", 
              SubscriptBox["u", "5"]}], ")"}], "2"]}], ")"}]}]}], ")"}]}], 
     ",", "\<\"kineticEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"2", " ", "g", " ", "mpelvis", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Sin", "[", "gslope", "]"}]}], " ", 
            SubscriptBox["q", "1"]}], "+", 
           RowBox[{
            RowBox[{"Cos", "[", "gslope", "]"}], " ", 
            SubscriptBox["q", "2"]}]}], ")"}]}], "+", 
        RowBox[{"kstance", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"stancel", "-", 
            SubscriptBox["q", "4"]}], ")"}], "2"]}], "+", 
        RowBox[{"kstomach", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"stomachl", "-", 
            SubscriptBox["q", "5"]}], ")"}], "2"]}]}], ")"}]}], 
     ",", "\<\"potentialEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"-", "mpelvis"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"g", " ", 
         RowBox[{"Sin", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "1"]}], "-", 
        RowBox[{"g", " ", 
         RowBox[{"Cos", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "2"]}]}], ")"}]}], ",", "\<\"PEgrav\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       FractionBox["1", "2"], " ", "kstance", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "stancel"}], "+", 
          SubscriptBox["q", "4"]}], ")"}], "2"]}], "+", 
      RowBox[{
       FractionBox["1", "2"], " ", "kstomach", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "stomachl"}], "+", 
          SubscriptBox["q", "5"]}], ")"}], "2"]}]}], 
     ",", "\<\"PEspring\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["q", "1"], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}]}], ",", 
       RowBox[{
        SubscriptBox["q", "2"], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}]}]}], "}"}], 
     ",", "\<\"points.stancefoot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.pelvis\"\>"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.COM\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       RowBox[{
        SubscriptBox["q", "2"], "+", 
        SubscriptBox["q", "5"]}]}], "}"}], ",", "\<\"points.stomach\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["u", "1"], "-", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubscriptBox["u", "3"]}], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubscriptBox["u", "3"]}], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}]}], "}"}], 
     ",", "\<\"vels.stancefoot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.pelvis\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.COM\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        SubscriptBox["u", "5"]}]}], "}"}], ",", "\<\"vels.stomach\"\>"}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6434762861619997`*^9, 3.643476337049*^9, {3.643477344724*^9, 
   3.643477355832*^9}, 3.6434777397679996`*^9, {3.643479225775*^9, 
   3.643479244526*^9}, {3.643479311333*^9, 3.6434793458640003`*^9}, 
   3.643479457098*^9, 3.64347949335*^9, 3.643479875899*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Opening file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM Notebooks\\\\Tutorial.m\"\>", 
   "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Opening file \"", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM Notebooks\\Tutorial.m",
    "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.643476286164*^9, 3.643476337053*^9, {3.643477344727*^9, 
   3.643477355836*^9}, 3.643477739773*^9, {3.6434792257860003`*^9, 
   3.6434792445369997`*^9}, {3.643479311344*^9, 3.643479345875*^9}, 
   3.643479457108*^9, 3.643479493361*^9, 3.643479875909*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Current directory: \"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM Notebooks\"\>"}],
  SequenceForm[
  "Current directory: ", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM Notebooks"],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.643476286164*^9, 3.643476337053*^9, {3.643477344727*^9, 
   3.643477355836*^9}, 3.643477739773*^9, {3.6434792257860003`*^9, 
   3.6434792445369997`*^9}, {3.643479311344*^9, 3.643479345875*^9}, 
   3.643479457108*^9, 3.643479493361*^9, 3.6434798759110003`*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Closing file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM Notebooks\\\\Tutorial.m\"\>", 
   "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Closing file \"", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM Notebooks\\Tutorial.m",
    "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.643476286164*^9, 3.643476337053*^9, {3.643477344727*^9, 
   3.643477355836*^9}, 3.643477739773*^9, {3.6434792257860003`*^9, 
   3.6434792445369997`*^9}, {3.643479311344*^9, 3.643479345875*^9}, 
   3.643479457108*^9, 3.643479493361*^9, 3.643479875943*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1904, 1085},
WindowMargins->{{-1, Automatic}, {Automatic, 31}},
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (November 20, 2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 453, 6, 90, "Title"],
Cell[1035, 30, 369, 7, 30, "Text"],
Cell[CellGroupData[{
Cell[1429, 41, 395, 6, 79, "Section"],
Cell[1827, 49, 625, 10, 30, "Text"],
Cell[2455, 61, 906, 20, 112, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3398, 86, 332, 4, 79, "Section"],
Cell[3733, 92, 653, 11, 30, "Text"],
Cell[CellGroupData[{
Cell[4411, 107, 328, 4, 43, "Subsection"],
Cell[4742, 113, 897, 19, 52, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[5676, 137, 282, 4, 43, "Subsection"],
Cell[5961, 143, 1331, 26, 52, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7329, 174, 512, 7, 43, "Subsection"],
Cell[7844, 183, 850, 17, 73, "Code"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[8743, 206, 1026, 15, 79, "Section"],
Cell[CellGroupData[{
Cell[9794, 225, 1018, 15, 43, "Subsection"],
Cell[10815, 242, 1489, 29, 52, "Input"],
Cell[12307, 273, 1254, 22, 52, "Code"],
Cell[13564, 297, 1654, 36, 31, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15255, 338, 1018, 15, 43, "Subsection"],
Cell[CellGroupData[{
Cell[16298, 357, 1065, 16, 34, "Subsubsection"],
Cell[17366, 375, 1756, 36, 52, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19159, 416, 1254, 19, 34, "Subsubsection"],
Cell[20416, 437, 1678, 34, 73, "Code"],
Cell[CellGroupData[{
Cell[22119, 475, 1555, 29, 92, "Input"],
Cell[23677, 506, 2133, 59, 91, "Output"],
Cell[25813, 567, 3095, 86, 102, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[28981, 661, 420, 6, 79, "Section"],
Cell[29404, 669, 779, 12, 49, "Text"],
Cell[30186, 683, 2172, 64, 113, "Code"]
}, Open  ]],
Cell[CellGroupData[{
Cell[32395, 752, 874, 13, 79, "Section"],
Cell[33272, 767, 1434, 22, 49, "Text"],
Cell[34709, 791, 4303, 108, 272, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[39049, 904, 796, 11, 79, "Section"],
Cell[39848, 917, 1281, 33, 192, "Input"],
Cell[41132, 952, 622, 14, 73, "Code"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41791, 971, 258, 4, 79, "Section"],
Cell[CellGroupData[{
Cell[42074, 979, 3332, 82, 233, "Code"],
Cell[45409, 1063, 8116, 255, 175, "Output"],
Cell[CellGroupData[{
Cell[53550, 1322, 675, 15, 23, "Print"],
Cell[54228, 1339, 609, 13, 23, "Print"],
Cell[54840, 1354, 675, 15, 23, "Print"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
