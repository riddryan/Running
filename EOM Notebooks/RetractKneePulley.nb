(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[    114601,       2789]
NotebookOptionsPosition[    112613,       2725]
NotebookOutlinePosition[    112961,       2740]
CellTagsIndexPosition[    112918,       2737]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.638543199516*^9, 3.638543200696*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 StyleBox["Initialization", "Subtitle"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"SetDirectory", "[", 
    RowBox[{"NotebookDirectory", "[", "]"}], "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Needs", "[", "\"\<DynamicsWorkbench`\>\"", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"workdir", " ", "=", " ", 
   RowBox[{"Directory", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"savename", " ", "=", " ", 
   RowBox[{"workdir", " ", "<>", " ", "\"\<\\\\RetractKneePulley.m\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"NewModel", "[", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640023481816*^9,
   3.640023482424*^9}, {3.6424446651236*^9, 3.6424446661796*^9}, {
  3.6425153418756*^9, 3.6425154288426*^9}, {3.6430406589035997`*^9, 
  3.6430406609816*^9}, {3.6431251175696*^9, 3.6431251182696*^9}}],

Cell[BoxData["Initialization"], "Output",
 CellChangeTimes->{
  3.63854464898*^9, 3.638548204918*^9, 3.638548693874*^9, 
   3.6385490643570004`*^9, 3.6387152312635*^9, 3.6387152785065002`*^9, 
   3.6387153231215*^9, {3.6387159281095*^9, 3.6387159388535*^9}, 
   3.6387159705675*^9, 3.6387160557615*^9, 3.6387161376875*^9, 
   3.6387165495585003`*^9, 3.6387168513535*^9, 3.638808072851*^9, 
   3.638808124942*^9, {3.6400158814639997`*^9, 3.640015910058*^9}, 
   3.6424447611166*^9, {3.6425152592846003`*^9, 3.6425152860556*^9}, {
   3.6425153533336*^9, 3.6425154334826*^9}, 3.6425155138196*^9, 
   3.6425256219166*^9, 3.6425296361876*^9, 3.6430407640596*^9, 
   3.6430408462556*^9, 3.6430410740246*^9, 3.6430417879166*^9, 
   3.6430420874886*^9, 3.6430421386166*^9, 3.6431240997506*^9, 
   3.6431255926646*^9, 3.6431258727276*^9, 3.6431261817726*^9, 
   3.6431268666466*^9, 3.6431278422206*^9, 3.6431278969896*^9, 
   3.6431279598915997`*^9, {3.6431280950296*^9, 3.6431281220576*^9}, 
   3.6431281786986*^9, 3.6431285781366*^9, 3.6431286095156*^9, 
   3.6431286434636*^9, 3.6431301976546*^9, 3.6431320811026*^9, 
   3.6431325114606*^9, 3.6431325483976*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   StyleBox["Equations", "Subtitle"], 
   StyleBox[" ", "Subtitle"], 
   StyleBox["of", "Subtitle"], " ", 
   StyleBox["Motion", "Subtitle"]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Set", "Section"], 
  StyleBox[" ", "Section"], 
  StyleBox["up", "Section"], " ", 
  StyleBox["Bodies", "Section"]}], "\[IndentingNewLine]", 
 StyleBox["Pelvis", "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvisx", ",", "ground", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "1", "]"}]}], ",", 
    RowBox[{"Qdof", "\[Rule]", "1"}], ",", 
    RowBox[{"Udof", "\[Rule]", "1"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvis", ",", "pelvisx", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "2", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mpelvis"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "2"}], ",", 
    RowBox[{"Udof", "\[Rule]", "2"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 StyleBox[
  RowBox[{"Swing", " ", "Leg"}], "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"knee1", ",", "pelvis", ",", "Hinge", ",", 
    RowBox[{"Axis", "\[Rule]", 
     RowBox[{"ground", "[", "3", "]"}]}], ",", 
    RowBox[{"InbToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"Mass", "\[Rule]", "mknee"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", 
     RowBox[{
      RowBox[{"-", "lthigh"}], "*", 
      RowBox[{"knee1", "[", "1", "]"}]}]}], ",", 
    RowBox[{"RelativeTo", "\[Rule]", "ground"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "3"}], ",", 
    RowBox[{"Udof", "\[Rule]", "3"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AddBody", "[", 
    RowBox[{"foot1", ",", " ", "knee1", ",", " ", "Hinge", ",", 
     RowBox[{"Axis", "\[Rule]", 
      RowBox[{"ground", "[", "3", "]"}]}], ",", 
     RowBox[{"Mass", "\[Rule]", "mfoot"}], ",", 
     RowBox[{"InbToJnt", "->", "0"}], ",", 
     RowBox[{"BodyToJnt", "\[Rule]", 
      RowBox[{
       RowBox[{"-", "lshank"}], "*", 
       RowBox[{"foot1", "[", "1", "]"}]}]}], ",", 
     RowBox[{"RelativeTo", "\[Rule]", "ground"}], ",", 
     RowBox[{"Qdof", "\[Rule]", "4"}], ",", 
     RowBox[{"Udof", "\[Rule]", "4"}]}], "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 StyleBox["Pulley", "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pulley", ",", " ", "pelvis", ",", " ", "Hinge", ",", 
    RowBox[{"Axis", "\[Rule]", 
     RowBox[{"ground", "[", "3", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mpulley"}], ",", 
    RowBox[{"InbToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", 
     RowBox[{
      RowBox[{"-", "lpulley"}], "*", 
      RowBox[{"pulley", "[", "1", "]"}]}]}], ",", 
    RowBox[{"RelativeTo", "\[Rule]", "ground"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "5"}], ",", 
    RowBox[{"Udof", "\[Rule]", "5"}]}], "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, {
   3.6400234883570004`*^9, 3.6400234885699997`*^9}, {3.640023521101*^9, 
   3.640023586726*^9}, {3.640023664317*^9, 3.640023683501*^9}, {
   3.640024033727*^9, 3.6400240534639997`*^9}, {3.640024108656*^9, 
   3.640024134895*^9}, {3.6424438789666*^9, 3.6424438847176*^9}, {
   3.6425155080556*^9, 3.6425155111935997`*^9}, {3.6431251930285997`*^9, 
   3.6431252532936*^9}, {3.6431319149236*^9, 3.6431319161205997`*^9}, 
   3.6431324336106*^9, {3.6431329364386*^9, 3.6431329380406*^9}}],

Cell[BoxData[
 RowBox[{"Equations", " ", "Motion", " ", "of"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.6400239197469997`*^9, 3.6400240552939997`*^9, 3.640024143325*^9, 
   3.6424447611726*^9, {3.6425152593146*^9, 3.6425152860856*^9}, 
   3.6425154335226*^9, 3.6425155138596*^9, 3.6425256219556*^9, 
   3.6425296362226*^9, 3.6430407650095997`*^9, 3.6430408463236*^9, 
   3.6430410740676003`*^9, 3.6430417879826*^9, 3.6430420875236*^9, 
   3.6430421386415997`*^9, 3.6431240997906*^9, 3.6431255927005997`*^9, 
   3.6431258727796*^9, 3.6431261818306*^9, 3.6431268666946*^9, 
   3.6431278422616*^9, 3.6431278970755997`*^9, 3.6431279599256*^9, {
   3.6431280950706*^9, 3.6431281221056004`*^9}, 3.6431281787716*^9, 
   3.6431285781726*^9, 3.6431286095495996`*^9, 3.6431286435136003`*^9, 
   3.6431301977086*^9, 3.6431320811326*^9, 3.6431325115095997`*^9, 
   3.6431325484356003`*^9}],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.6400239197469997`*^9, 3.6400240552939997`*^9, 3.640024143325*^9, 
   3.6424447611726*^9, {3.6425152593146*^9, 3.6425152860856*^9}, 
   3.6425154335226*^9, 3.6425155138596*^9, 3.6425256219556*^9, 
   3.6425296362226*^9, 3.6430407650095997`*^9, 3.6430408463236*^9, 
   3.6430410740676003`*^9, 3.6430417879826*^9, 3.6430420875236*^9, 
   3.6430421386415997`*^9, 3.6431240997906*^9, 3.6431255927005997`*^9, 
   3.6431258727796*^9, 3.6431261818306*^9, 3.6431268666946*^9, 
   3.6431278422616*^9, 3.6431278970755997`*^9, 3.6431279599256*^9, {
   3.6431280950706*^9, 3.6431281221056004`*^9}, 3.6431281787716*^9, 
   3.6431285781726*^9, 3.6431286095495996`*^9, 3.6431286435136003`*^9, 
   3.6431301977086*^9, 3.6431320811326*^9, 3.6431325115095997`*^9, 
   3.6431325484406*^9}],

Cell[BoxData["Pelvis"], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.6400239197469997`*^9, 3.6400240552939997`*^9, 3.640024143325*^9, 
   3.6424447611726*^9, {3.6425152593146*^9, 3.6425152860856*^9}, 
   3.6425154335226*^9, 3.6425155138596*^9, 3.6425256219556*^9, 
   3.6425296362226*^9, 3.6430407650095997`*^9, 3.6430408463236*^9, 
   3.6430410740676003`*^9, 3.6430417879826*^9, 3.6430420875236*^9, 
   3.6430421386415997`*^9, 3.6431240997906*^9, 3.6431255927005997`*^9, 
   3.6431258727796*^9, 3.6431261818306*^9, 3.6431268666946*^9, 
   3.6431278422616*^9, 3.6431278970755997`*^9, 3.6431279599256*^9, {
   3.6431280950706*^9, 3.6431281221056004`*^9}, 3.6431281787716*^9, 
   3.6431285781726*^9, 3.6431286095495996`*^9, 3.6431286435136003`*^9, 
   3.6431301977086*^9, 3.6431320811326*^9, 3.6431325115095997`*^9, 
   3.6431325484456*^9}],

Cell[BoxData[
 RowBox[{"Leg", " ", "Swing"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.6400239197469997`*^9, 3.6400240552939997`*^9, 3.640024143325*^9, 
   3.6424447611726*^9, {3.6425152593146*^9, 3.6425152860856*^9}, 
   3.6425154335226*^9, 3.6425155138596*^9, 3.6425256219556*^9, 
   3.6425296362226*^9, 3.6430407650095997`*^9, 3.6430408463236*^9, 
   3.6430410740676003`*^9, 3.6430417879826*^9, 3.6430420875236*^9, 
   3.6430421386415997`*^9, 3.6431240997906*^9, 3.6431255927005997`*^9, 
   3.6431258727796*^9, 3.6431261818306*^9, 3.6431268666946*^9, 
   3.6431278422616*^9, 3.6431278970755997`*^9, 3.6431279599256*^9, {
   3.6431280950706*^9, 3.6431281221056004`*^9}, 3.6431281787716*^9, 
   3.6431285781726*^9, 3.6431286095495996`*^9, 3.6431286435136003`*^9, 
   3.6431301977086*^9, 3.6431320811326*^9, 3.6431325115095997`*^9, 
   3.6431325484476*^9}],

Cell[BoxData["Pulley"], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.6400239197469997`*^9, 3.6400240552939997`*^9, 3.640024143325*^9, 
   3.6424447611726*^9, {3.6425152593146*^9, 3.6425152860856*^9}, 
   3.6425154335226*^9, 3.6425155138596*^9, 3.6425256219556*^9, 
   3.6425296362226*^9, 3.6430407650095997`*^9, 3.6430408463236*^9, 
   3.6430410740676003`*^9, 3.6430417879826*^9, 3.6430420875236*^9, 
   3.6430421386415997`*^9, 3.6431240997906*^9, 3.6431255927005997`*^9, 
   3.6431258727796*^9, 3.6431261818306*^9, 3.6431268666946*^9, 
   3.6431278422616*^9, 3.6431278970755997`*^9, 3.6431279599256*^9, {
   3.6431280950706*^9, 3.6431281221056004`*^9}, 3.6431281787716*^9, 
   3.6431285781726*^9, 3.6431286095495996`*^9, 3.6431286435136003`*^9, 
   3.6431301977086*^9, 3.6431320811326*^9, 3.6431325115095997`*^9, 
   3.6431325484505997`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    StyleBox[
     RowBox[{"Apply", " ", "Forces"}], "Section"], " ", 
    StyleBox["&", "Section"]}], 
   StyleBox[" ", "Section"], 
   StyleBox["Torques", "Section"]}], 
  StyleBox[" ", "Section"]}], "\[IndentingNewLine]", 
 StyleBox["Gravity", "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox[
   RowBox[{"AppFrc", "[", 
    RowBox[{"pelvis", ",", " ", 
     RowBox[{
      RowBox[{"Mass", "[", "pelvis", "]"}], " ", "grav"}], ",", " ", "0"}], 
    "]"}], "Input"], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"foot1", ",", " ", 
    RowBox[{
     RowBox[{"Mass", "[", "foot1", "]"}], " ", "grav"}], ",", " ", "0"}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"knee1", ",", " ", 
    RowBox[{
     RowBox[{"Mass", "[", "foot1", "]"}], " ", "grav"}], ",", " ", "0"}], 
   "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppFrc", "[", 
    RowBox[{"pulley", ",", " ", 
     RowBox[{
      RowBox[{"Mass", "[", "pulley", "]"}], " ", "grav"}], ",", " ", "0"}], 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   StyleBox["grav", "Input"], 
   StyleBox[" ", "Input"], 
   StyleBox["=", "Input"], 
   StyleBox[" ", "Input"], 
   RowBox[{
    StyleBox["g", "Input"], 
    StyleBox[" ", "Input"], 
    RowBox[{
     StyleBox["(", "Input"], 
     RowBox[{
      RowBox[{
       RowBox[{
        StyleBox["-", "Input"], 
        RowBox[{"Cos", "[", "gslope", "]"}]}], 
       RowBox[{"ground", "[", "2", "]"}]}], " ", "+", " ", 
      RowBox[{
       RowBox[{"Sin", "[", "gslope", "]"}], " ", 
       RowBox[{"ground", "[", "1", "]"}]}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Springs", "Subsection"], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"Knee", " ", "Spring"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kneestretch", " ", "=", " ", 
   RowBox[{
    RowBox[{"Dist", "[", 
     RowBox[{
      RowBox[{"PosCOM", "[", "pulley", "]"}], ",", 
      RowBox[{"PosCOM", "[", "foot1", "]"}]}], "]"}], " ", "//", " ", 
    "Simplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"kneedir", " ", "=", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"PosCOM", "[", "foot1", "]"}], " ", "-", " ", 
        RowBox[{"PosCOM", "[", "pulley", "]"}]}], ")"}], "/", "kneestretch"}],
      " ", "//", " ", "Simplify"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"foot1", ",", " ", 
    RowBox[{
     RowBox[{"-", "kknee"}], 
     RowBox[{"(", 
      RowBox[{"kneestretch", "-", "kneel"}], ")"}], " ", "kneedir"}], ",", 
    "0"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppFrc", "[", 
    RowBox[{"pulley", ",", " ", 
     RowBox[{"kknee", 
      RowBox[{"(", 
       RowBox[{"kneestretch", "-", "kneel"}], ")"}], " ", "kneedir"}], ",", 
     "0"}], "]"}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"Hip", " ", "Spring"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppTrq", "[", 
    RowBox[{"knee1", ",", " ", 
     RowBox[{
      RowBox[{"-", "khip"}], 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"q", "[", "3", "]"}], " ", "-", " ", "hipl"}], ")"}], " ", 
      RowBox[{"ground", "[", "3", "]"}]}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Dampers", "Subsection"], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"(*", 
    RowBox[{"Stance", " ", "Damper"}], "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"AppFrc", "[", 
     RowBox[{"pelvis", ",", " ", 
      RowBox[{"cstance", 
       RowBox[{"(", 
        RowBox[{"u", "[", "4", "]"}], ")"}], " ", 
       RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"AppFrc", "[", 
     RowBox[{"foot1", ",", " ", 
      RowBox[{
       RowBox[{"-", "cstance"}], 
       RowBox[{"(", 
        RowBox[{"u", "[", "4", "]"}], ")"}], " ", 
       RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"Swing", " ", "Damper"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{"AppFrc", "[", 
     RowBox[{"pelvis", ",", " ", 
      RowBox[{"cswing", 
       RowBox[{"(", 
        RowBox[{"u", "[", "6", "]"}], ")"}], " ", 
       RowBox[{"leghinge2", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"AppFrc", "[", 
     RowBox[{"foot2", ",", " ", 
      RowBox[{
       RowBox[{"-", "cswing"}], 
       RowBox[{"(", 
        RowBox[{"u", "[", "6", "]"}], ")"}], " ", 
       RowBox[{"leghinge2", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], ";", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{"Swing", " ", "Damper"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{"AppTrq", "[", 
     RowBox[{"leghinge1", ",", " ", 
      RowBox[{
       RowBox[{"-", "chip"}], 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"u", "[", "3", "]"}], "-", 
         RowBox[{"u", "[", "5", "]"}]}], ")"}], " ", 
       RowBox[{"ground", "[", "3", "]"}]}]}], "]"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"AppTrq", "[", 
     RowBox[{"leghinge2", ",", " ", 
      RowBox[{"chip", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"u", "[", "3", "]"}], "-", 
         RowBox[{"u", "[", "5", "]"}]}], ")"}], " ", 
       RowBox[{"ground", "[", "3", "]"}]}]}], "]"}], ";"}], "*)"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eom", " ", "=", " ", 
   RowBox[{"EOM", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"MM", ",", "rhs"}], "}"}], "=", 
   RowBox[{
    RowBox[{"MassMatrix", "[", "eom", "]"}], "//", "Simplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "MM", "]"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "rhs", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MMtop", " ", "=", " ", 
   RowBox[{
    RowBox[{"MM", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"mfoot", "\[Rule]", "0"}], ",", 
      RowBox[{"mknee", "\[Rule]", "0"}]}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MMbot", " ", "=", " ", 
   RowBox[{
    RowBox[{"MM", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"3", ",", "4", ",", "5"}], "}"}], "]"}], "]"}], " ", "//.", 
    " ", 
    RowBox[{"{", 
     RowBox[{"mknee", "\[Rule]", " ", "1"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rhstop", " ", "=", " ", 
   RowBox[{
    RowBox[{"rhs", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"mfoot", "\[Rule]", "0"}], ",", 
      RowBox[{"mknee", "\[Rule]", "0"}]}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"rhsbot", " ", "=", " ", 
    RowBox[{
     RowBox[{"rhs", "[", 
      RowBox[{"[", 
       RowBox[{"{", 
        RowBox[{"3", ",", "4", ",", "5"}], "}"}], "]"}], "]"}], " ", "//.", 
     " ", 
     RowBox[{"{", 
      RowBox[{"mknee", "\[Rule]", "1"}], "}"}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"Only", " ", "Care", " ", "about", " ", "hip"}], ",", " ", "knee",
     ",", " ", 
    RowBox[{"and", " ", "pulley", " ", "states"}]}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MMfoot", " ", "=", " ", 
    RowBox[{"MMbot", "[", 
     RowBox[{"[", 
      RowBox[{";;", ",", 
       RowBox[{"3", ";;", "5"}]}], "]"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     RowBox[{
     "Add", " ", "the", " ", "inertial", " ", "forces", " ", "of", " ", "the",
       " ", "pelvis", " ", "motion", " ", "to", " ", "the", " ", "other", " ",
       "states", " ", "as", " ", "variables", " ", "xpacc"}], " ", "&"}], " ",
     "ypacc"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"rhsfoot", "  ", "=", " ", 
    RowBox[{"rhsbot", " ", "-", " ", 
     RowBox[{
      RowBox[{"MMfoot", "[", 
       RowBox[{"[", 
        RowBox[{";;", ",", 
         RowBox[{"1", ";;", "2"}]}], "]"}], "]"}], ".", 
      RowBox[{"{", 
       RowBox[{"xpacc", ",", "ypacc"}], "}"}]}]}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "MMfoot", "]"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "rhsfoot", "]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.640023687157*^9, 3.6400236930480003`*^9}, {
   3.640023729946*^9, 3.640023805665*^9}, {3.6400238623529997`*^9, 
   3.640023964756*^9}, {3.640024006098*^9, 3.64002400675*^9}, {
   3.640024090179*^9, 3.640024092284*^9}, {3.6400242030179996`*^9, 
   3.6400244380360003`*^9}, 3.640024505784*^9, {3.640024541833*^9, 
   3.6400246199560003`*^9}, {3.6424438881376*^9, 3.6424439304966*^9}, {
   3.6424439694695997`*^9, 3.6424440298246*^9}, {3.6424440762956*^9, 
   3.6424440777756*^9}, {3.6424441266726*^9, 3.6424441304646*^9}, 
   3.6424442439526*^9, {3.6424444350165997`*^9, 3.6424444574886*^9}, {
   3.6424444966415997`*^9, 3.6424445238896*^9}, {3.6425256172156*^9, 
   3.6425256189946003`*^9}, {3.6425296253346*^9, 3.6425296315176*^9}, {
   3.6425303285826*^9, 3.6425303316946*^9}, {3.6430406687356*^9, 
   3.6430407582956*^9}, {3.6430408167446003`*^9, 3.6430409087356*^9}, {
   3.6430409507005997`*^9, 3.6430409697506*^9}, 3.6430410029416*^9, {
   3.6430414157576*^9, 3.6430414195236*^9}, {3.6430414953486*^9, 
   3.6430415570546*^9}, {3.6430415918106003`*^9, 3.6430415922005997`*^9}, {
   3.6430417672836*^9, 3.6430417682195997`*^9}, {3.6430420285336*^9, 
   3.6430420848416*^9}, 3.6431240966415997`*^9, {3.6431253188156*^9, 
   3.6431254411476*^9}, {3.6431254913646*^9, 3.6431254963176003`*^9}, {
   3.6431258473996*^9, 3.6431258676036*^9}, {3.6431273905556*^9, 
   3.6431274008086*^9}, {3.6431279475875998`*^9, 3.6431279481706*^9}, {
   3.6431300358426*^9, 3.6431300549266*^9}, {3.6431300927866*^9, 
   3.6431301058656*^9}, {3.6431301627866*^9, 3.6431301874426003`*^9}, {
   3.6431302308596*^9, 3.6431302880396*^9}, {3.6431319197286*^9, 
   3.6431319281176*^9}, {3.6431320532226*^9, 3.6431320601396*^9}, {
   3.6431324360656*^9, 3.6431324406496*^9}, {3.6431329289946003`*^9, 
   3.6431329336745996`*^9}}],

Cell[BoxData[
 RowBox[{"Torques", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Apply", " ", "Forces"}], "&"}], ")"}]}]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325485076*^9}],

Cell[BoxData["Gravity"], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325485136003`*^9}],

Cell[BoxData["Springs"], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325485156*^9}],

Cell[BoxData["Dampers"], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325485566*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"mfoot", "+", "mknee", "+", "mpelvis"}], "0", 
      RowBox[{
       RowBox[{"-", "lthigh"}], " ", 
       RowBox[{"(", 
        RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{
       RowBox[{"-", "lshank"}], " ", "mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "4"], "]"}]}], "0"},
     {"0", 
      RowBox[{"mfoot", "+", "mknee", "+", "mpelvis"}], 
      RowBox[{"lthigh", " ", 
       RowBox[{"(", 
        RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{"lshank", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "4"], "]"}]}], "0"},
     {
      RowBox[{
       RowBox[{"-", "lthigh"}], " ", 
       RowBox[{"(", 
        RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{"lthigh", " ", 
       RowBox[{"(", 
        RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{
       SuperscriptBox["lthigh", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"mfoot", "+", "mknee"}], ")"}]}], 
      RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         SubscriptBox["q", "3"], "-", 
         SubscriptBox["q", "4"]}], "]"}]}], "0"},
     {
      RowBox[{
       RowBox[{"-", "lshank"}], " ", "mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "4"], "]"}]}], 
      RowBox[{"lshank", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "4"], "]"}]}], 
      RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         SubscriptBox["q", "3"], "-", 
         SubscriptBox["q", "4"]}], "]"}]}], 
      RowBox[{
       SuperscriptBox["lshank", "2"], " ", "mfoot"}], "0"},
     {"0", "0", "0", "0", "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325486186*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"kknee", " ", "lthigh", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}]}], "+", 
        RowBox[{"kknee", " ", "lshank", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "4"], "]"}], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}]}], "+", 
        RowBox[{"kknee", " ", "lpulley", " ", 
         RowBox[{"(", 
          RowBox[{"1", "-", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}], " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "5"], "]"}]}], "+", 
        RowBox[{"2", " ", "g", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", "gslope", "]"}]}], "+", 
        RowBox[{"g", " ", "mpelvis", " ", 
         RowBox[{"Sin", "[", "gslope", "]"}]}], "+", 
        RowBox[{"lthigh", " ", 
         RowBox[{"(", 
          RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        RowBox[{"lshank", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "4"], "]"}], " ", 
         SubsuperscriptBox["u", "4", "2"]}]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", "g", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", "gslope", "]"}]}], "-", 
        RowBox[{"g", " ", "mpelvis", " ", 
         RowBox[{"Cos", "[", "gslope", "]"}]}], "+", 
        RowBox[{"kknee", " ", "lthigh", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}]}], "+", 
        RowBox[{"kknee", " ", "lshank", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], "+", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "4"], "]"}]}], "+", 
        RowBox[{"kknee", " ", "lpulley", " ", 
         RowBox[{"(", 
          RowBox[{"1", "-", 
           FractionBox["kneel", 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]]}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "5"], "]"}]}], "+", 
        RowBox[{"lthigh", " ", 
         RowBox[{"(", 
          RowBox[{"mfoot", "+", "mknee"}], ")"}], " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        RowBox[{"lshank", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "4"], "]"}], " ", 
         SubsuperscriptBox["u", "4", "2"]}]}]},
      {
       RowBox[{
        RowBox[{"hipl", " ", "khip"}], "-", 
        RowBox[{"2", " ", "g", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "+", 
        RowBox[{"kknee", " ", "lshank", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "-", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lshank", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "4"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"kknee", " ", "lpulley", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "5"]}], "]"}]}], "+", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lpulley", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "5"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"khip", " ", 
         SubscriptBox["q", "3"]}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}], " ", 
         SubsuperscriptBox["u", "4", "2"]}]}]},
      {
       RowBox[{"lshank", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "g"}], " ", "mfoot", " ", 
           RowBox[{"Cos", "[", 
            RowBox[{"gslope", "-", 
             SubscriptBox["q", "4"]}], "]"}]}], "-", 
          FractionBox[
           RowBox[{"kknee", " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"-", "kneel"}], "+", 
              SqrtBox[
               RowBox[{
                SuperscriptBox["lpulley", "2"], "+", 
                SuperscriptBox["lshank", "2"], "+", 
                SuperscriptBox["lthigh", "2"], "+", 
                RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{
                   SubscriptBox["q", "3"], "-", 
                   SubscriptBox["q", "4"]}], "]"}]}], "-", 
                RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{
                   SubscriptBox["q", "3"], "-", 
                   SubscriptBox["q", "5"]}], "]"}]}], "-", 
                RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{
                   SubscriptBox["q", "4"], "-", 
                   SubscriptBox["q", "5"]}], "]"}]}]}]]}], ")"}], " ", 
            RowBox[{"(", 
             RowBox[{
              RowBox[{"lthigh", " ", 
               RowBox[{"Sin", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "+", 
              RowBox[{"lpulley", " ", 
               RowBox[{"Sin", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}], ")"}]}], 
           SqrtBox[
            RowBox[{
             SuperscriptBox["lpulley", "2"], "+", 
             SuperscriptBox["lshank", "2"], "+", 
             SuperscriptBox["lthigh", "2"], "+", 
             RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
              RowBox[{"Cos", "[", 
               RowBox[{
                SubscriptBox["q", "3"], "-", 
                SubscriptBox["q", "4"]}], "]"}]}], "-", 
             RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
              RowBox[{"Cos", "[", 
               RowBox[{
                SubscriptBox["q", "3"], "-", 
                SubscriptBox["q", "5"]}], "]"}]}], "-", 
             RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
              RowBox[{"Cos", "[", 
               RowBox[{
                SubscriptBox["q", "4"], "-", 
                SubscriptBox["q", "5"]}], "]"}]}]}]]], "+", 
          RowBox[{"lthigh", " ", "mfoot", " ", 
           RowBox[{"Sin", "[", 
            RowBox[{
             SubscriptBox["q", "3"], "-", 
             SubscriptBox["q", "4"]}], "]"}], " ", 
           SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]},
      {"0"}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325486406*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       SuperscriptBox["lthigh", "2"], " ", 
       RowBox[{"(", 
        RowBox[{"1", "+", "mfoot"}], ")"}]}], 
      RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         SubscriptBox["q", "3"], "-", 
         SubscriptBox["q", "4"]}], "]"}]}], "0"},
     {
      RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         SubscriptBox["q", "3"], "-", 
         SubscriptBox["q", "4"]}], "]"}]}], 
      RowBox[{
       SuperscriptBox["lshank", "2"], " ", "mfoot"}], "0"},
     {"0", "0", "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325486516*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"hipl", " ", "khip"}], "-", 
        RowBox[{
         SuperscriptBox["lthigh", "2"], " ", 
         RowBox[{"(", 
          RowBox[{"1", "+", "mfoot"}], ")"}], " ", "xpacc"}], "-", 
        RowBox[{"2", " ", "g", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", "ypacc", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "+", 
        RowBox[{"kknee", " ", "lshank", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "-", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lshank", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "4"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"kknee", " ", "lpulley", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "5"]}], "]"}]}], "+", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lpulley", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "5"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"khip", " ", 
         SubscriptBox["q", "3"]}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}], " ", 
         SubsuperscriptBox["u", "4", "2"]}]}]},
      {
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          SuperscriptBox["lshank", "2"]}], " ", "mfoot", " ", "ypacc"}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", "xpacc", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "+", 
        RowBox[{"lshank", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "g"}], " ", "mfoot", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           FractionBox[
            RowBox[{"kknee", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", "kneel"}], "+", 
               SqrtBox[
                RowBox[{
                 SuperscriptBox["lpulley", "2"], "+", 
                 SuperscriptBox["lshank", "2"], "+", 
                 SuperscriptBox["lthigh", "2"], "+", 
                 RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "3"], "-", 
                    SubscriptBox["q", "4"]}], "]"}]}], "-", 
                 RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "3"], "-", 
                    SubscriptBox["q", "5"]}], "]"}]}], "-", 
                 RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "4"], "-", 
                    SubscriptBox["q", "5"]}], "]"}]}]}]]}], ")"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"lthigh", " ", 
                RowBox[{"Sin", "[", 
                 RowBox[{
                  SubscriptBox["q", "3"], "-", 
                  SubscriptBox["q", "4"]}], "]"}]}], "+", 
               RowBox[{"lpulley", " ", 
                RowBox[{"Sin", "[", 
                 RowBox[{
                  SubscriptBox["q", "4"], "-", 
                  SubscriptBox["q", "5"]}], "]"}]}]}], ")"}]}], 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]], "+", 
           RowBox[{"lthigh", " ", "mfoot", " ", 
            RowBox[{"Sin", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}], " ", 
            SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}]},
      {"0"}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, {3.64002392194*^9, 
   3.640023965384*^9}, 3.64002405777*^9, 3.640024092594*^9, {
   3.640024138276*^9, 3.640024145394*^9}, {3.640024212736*^9, 
   3.6400242403529997`*^9}, {3.640024620314*^9, 3.6400246247460003`*^9}, 
   3.6424447612886*^9, {3.6425152593646*^9, 3.6425152861256*^9}, 
   3.6425154335626*^9, 3.6425155138996*^9, 3.6425256219976*^9, 
   3.6425296362706003`*^9, {3.6430407591186*^9, 3.6430407651796*^9}, {
   3.6430408463786*^9, 3.6430408564336*^9}, {3.6430409000786*^9, 
   3.6430409089835997`*^9}, 3.6430409546336*^9, 3.6430410741146*^9, 
   3.6430414160596*^9, {3.6430415411535997`*^9, 3.6430415574136*^9}, 
   3.6430417880696*^9, 3.6430420876046*^9, 3.6430421386796*^9, 
   3.6431240998406*^9, 3.6431255927446003`*^9, 3.6431258728666*^9, 
   3.6431261819126*^9, 3.6431268667676*^9, 3.6431274053806*^9, 
   3.6431278423585997`*^9, 3.6431278971616*^9, 3.6431279599876003`*^9, {
   3.6431280951345997`*^9, 3.6431281221846*^9}, 3.6431281788946*^9, 
   3.6431285782296*^9, 3.6431286096056004`*^9, 3.6431286435906*^9, 
   3.6431300555056*^9, 3.6431301062896*^9, {3.6431301899906*^9, 
   3.6431301977836*^9}, 3.6431320811956*^9, 3.6431325115806*^9, 
   3.6431325486576*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 StyleBox["Energy", "Subtitle"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   StyleBox["gravE", "Input"], 
   StyleBox[" ", "Input"], 
   StyleBox["=", "Input"], 
   StyleBox[" ", "Input"], 
   RowBox[{
    StyleBox["-", "Input"], 
    RowBox[{
     StyleBox["(", "Input"], 
     RowBox[{
      RowBox[{
       RowBox[{"Mass", "[", "foot1", "]"}], " ", 
       RowBox[{"grav", ".", 
        RowBox[{"PosCOM", "[", "foot1", "]"}]}]}], " ", "+", "  ", 
      RowBox[{"grav", ".", 
       RowBox[{"PosCOM", "[", "knee1", "]"}]}]}], ")"}]}]}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     StyleBox["gravE", "Input"], 
     StyleBox[" ", "Input"], 
     StyleBox["=", "Input"], 
     StyleBox[" ", "Input"], 
     RowBox[{
      StyleBox["-", "Input"], 
      RowBox[{
       StyleBox["(", "Input"], 
       RowBox[{
        RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
        RowBox[{"grav", ".", 
         RowBox[{"PosCOM", "[", "pelvis", "]"}]}]}], ")"}]}]}], ";"}], "*)"}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"springE", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], "kknee", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"kneestretch", "-", "kneel"}], ")"}], "^", "2"}]}], " ", "+", 
    RowBox[{
     RowBox[{"1", "/", "2"}], "khip", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"q", "[", "3", "]"}], "-", "hipl"}], ")"}], "^", "2"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"PE", " ", "=", " ", 
    RowBox[{
     RowBox[{"gravE", " ", "+", " ", "springE"}], " ", "//", " ", 
     "Simplify"}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"KE", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"Mass", "[", "foot1", "]"}], " ", 
        RowBox[{
         RowBox[{"VelCOM", "[", "foot1", "]"}], ".", 
         RowBox[{"VelCOM", "[", "foot1", "]"}]}]}], "+", " ", 
       RowBox[{
        RowBox[{"VelCOM", "[", "knee1", "]"}], ".", 
        RowBox[{"VelCOM", "[", "knee1", "]"}]}]}], " ", ")"}]}], " ", "//", 
    " ", "Simplify"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"KE", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"1", "/", "2"}], 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
         RowBox[{
          RowBox[{"VelCOM", "[", "pelvis", "]"}], ".", 
          RowBox[{"VelCOM", "[", "pelvis", "]"}]}]}], ")"}]}], "//", " ", 
      "Simplify"}]}], ";"}], "*)"}]}]}], "Input",
 CellChangeTimes->{{3.638543561019*^9, 3.638543630803*^9}, {3.63854399366*^9, 
   3.638544003417*^9}, {3.6387164780095*^9, 3.6387164988385*^9}, 
   3.6387168488905*^9, {3.640024530527*^9, 3.640024532792*^9}, {
   3.6424441155536003`*^9, 3.6424441451056004`*^9}, {3.642849898783*^9, 
   3.6428499737469997`*^9}, 3.6430410315226*^9, 3.6430417856486*^9, {
   3.6430421190486*^9, 3.6430421224656*^9}, 3.6431261779676*^9, 
   3.6431278781126003`*^9}],

Cell[BoxData["Energy"], "Output",
 CellChangeTimes->{
  3.638544651414*^9, 3.6385482050880003`*^9, 3.6385486939639997`*^9, 
   3.6385490644969997`*^9, 3.6387152317625*^9, 3.6387152786975*^9, 
   3.6387153233005*^9, {3.6387159283005*^9, 3.6387159390385*^9}, 
   3.6387159707525*^9, 3.6387160561355*^9, 3.6387161378754997`*^9, 
   3.6387165497655*^9, 3.6387168515305*^9, 3.638808073001*^9, 
   3.638808125072*^9, {3.6400158822980003`*^9, 3.640015910416*^9}, 
   3.6424447640086*^9, {3.6425152594646*^9, 3.6425152886896*^9}, 
   3.6425154336926003`*^9, 3.6425155150095997`*^9, 3.6425256240656*^9, 
   3.6425296406916*^9, 3.6430407698386*^9, 3.6430408491146*^9, 
   3.6430410773206*^9, 3.6430418375495996`*^9, 3.6430420917096*^9, 
   3.6430421387776003`*^9, 3.6431241035326*^9, 3.6431256034586*^9, 
   3.6431258849955997`*^9, 3.6431261849786*^9, 3.6431268679256*^9, 
   3.6431278425516*^9, 3.6431279066296*^9, 3.6431279602256002`*^9, {
   3.6431280953436003`*^9, 3.6431281224026003`*^9}, 3.6431281885186*^9, 
   3.6431285784656*^9, 3.6431286098106003`*^9, 3.6431286437906*^9, 
   3.6431301979726*^9, 3.6431320836526003`*^9, 3.6431325117866*^9, 
   3.6431325487156*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"-", "g"}], " ", "lthigh", " ", 
   RowBox[{"Sin", "[", 
    RowBox[{"gslope", "-", 
     SubscriptBox["q", "3"]}], "]"}]}], "-", 
  RowBox[{"g", " ", 
   RowBox[{"Sin", "[", "gslope", "]"}], " ", 
   SubscriptBox["q", "1"]}], "+", 
  RowBox[{"g", " ", 
   RowBox[{"Cos", "[", "gslope", "]"}], " ", 
   SubscriptBox["q", "2"]}], "-", 
  RowBox[{"mfoot", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"g", " ", "lshank", " ", 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "4"], "]"}], " ", 
      RowBox[{"Sin", "[", "gslope", "]"}]}], "+", 
     RowBox[{"g", " ", "lthigh", " ", 
      RowBox[{"Sin", "[", 
       RowBox[{"gslope", "-", 
        SubscriptBox["q", "3"]}], "]"}]}], "-", 
     RowBox[{"g", " ", "lshank", " ", 
      RowBox[{"Cos", "[", "gslope", "]"}], " ", 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "4"], "]"}]}], "+", 
     RowBox[{"g", " ", 
      RowBox[{"Sin", "[", "gslope", "]"}], " ", 
      SubscriptBox["q", "1"]}], "-", 
     RowBox[{"g", " ", 
      RowBox[{"Cos", "[", "gslope", "]"}], " ", 
      SubscriptBox["q", "2"]}]}], ")"}]}]}]], "Output",
 CellChangeTimes->{
  3.638544651414*^9, 3.6385482050880003`*^9, 3.6385486939639997`*^9, 
   3.6385490644969997`*^9, 3.6387152317625*^9, 3.6387152786975*^9, 
   3.6387153233005*^9, {3.6387159283005*^9, 3.6387159390385*^9}, 
   3.6387159707525*^9, 3.6387160561355*^9, 3.6387161378754997`*^9, 
   3.6387165497655*^9, 3.6387168515305*^9, 3.638808073001*^9, 
   3.638808125072*^9, {3.6400158822980003`*^9, 3.640015910416*^9}, 
   3.6424447640086*^9, {3.6425152594646*^9, 3.6425152886896*^9}, 
   3.6425154336926003`*^9, 3.6425155150095997`*^9, 3.6425256240656*^9, 
   3.6425296406916*^9, 3.6430407698386*^9, 3.6430408491146*^9, 
   3.6430410773206*^9, 3.6430418375495996`*^9, 3.6430420917096*^9, 
   3.6430421387776003`*^9, 3.6431241035326*^9, 3.6431256034586*^9, 
   3.6431258849955997`*^9, 3.6431261849786*^9, 3.6431268679256*^9, 
   3.6431278425516*^9, 3.6431279066296*^9, 3.6431279602256002`*^9, {
   3.6431280953436003`*^9, 3.6431281224026003`*^9}, 3.6431281885186*^9, 
   3.6431285784656*^9, 3.6431286098106003`*^9, 3.6431286437906*^9, 
   3.6431301979726*^9, 3.6431320836526003`*^9, 3.6431325117866*^9, 
   3.6431325487206*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 StyleBox["Constraints", "Subtitle"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"allVelocityVariables", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"u", "[", "3", "]"}], ",", 
     RowBox[{"u", "[", "4", "]"}], ",", 
     RowBox[{"u", "[", "5", "]"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pulleylock", " ", "=", " ", 
   RowBox[{
    RowBox[{"u", "[", "5", "]"}], "\[Equal]", "0"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pulleyfree", " ", "=", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"u", "[", "5", "]"}], "-", 
      RowBox[{"u", "[", "4", "]"}]}], "\[Equal]", "0"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"pulleyfree", " ", "=", " ", 
    RowBox[{
     RowBox[{"Dist", "[", 
      RowBox[{
       RowBox[{"VelCOM", "[", "pulley", "]"}], " ", ",", 
       RowBox[{"VelCOM", "[", "foot1", "]"}]}], "]"}], " ", "\[Equal]", " ", 
     "0"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kneelock", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"u", "[", "4", "]"}], "-", 
     RowBox[{"u", "[", "3", "]"}]}], "\[Equal]", " ", "0"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"CPulleyLock", " ", "=", " ", 
  RowBox[{"LinearTerms", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"pulleylock", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "}"}], ",", "allVelocityVariables"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"CPulleyFree", " ", "=", " ", 
  RowBox[{"LinearTerms", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"pulleyfree", "[", 
      RowBox[{"[", "1", "]"}], "]"}], "}"}], ",", "allVelocityVariables"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"CKneeLock", " ", "=", " ", 
  RowBox[{"LinearTerms", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"pulleyfree", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", 
      RowBox[{"kneelock", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], "}"}], ",", "allVelocityVariables"}],
    "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"definitionsOfQDots", " ", "=", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"q", "[", "3", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
       RowBox[{"u", "[", "3", "]"}]}], ",", " ", 
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"q", "[", "4", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
       RowBox[{"u", "[", "4", "]"}]}], ",", " ", 
      RowBox[{
       RowBox[{"D", "[", 
        RowBox[{
         RowBox[{"q", "[", "5", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
       RowBox[{"u", "[", "5", "]"}]}]}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"CPulleyLockDot", " ", "=", " ", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"CPulleyLock", ",", "t"}], "]"}], " ", "//.", 
    "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"CPulleyFreeDot", " ", "=", " ", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"CPulleyFree", ",", "t"}], "]"}], " ", "//.", 
    "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"CKneeLockDot", " ", "=", " ", 
   RowBox[{
    RowBox[{"D", "[", 
     RowBox[{"CKneeLock", ",", "t"}], "]"}], " ", "//.", " ", 
    "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.638543653901*^9, 3.638543738993*^9}, {3.638544087907*^9,
    3.638544096821*^9}, {3.638724992935*^9, 3.638724999889*^9}, 
   3.638725054184*^9, {3.63872516891*^9, 3.638725257726*^9}, {
   3.638725310005*^9, 3.638725337455*^9}, {3.6387257901289997`*^9, 
   3.638725796113*^9}, {3.6388080449519997`*^9, 3.638808059216*^9}, {
   3.638808105137*^9, 3.638808107887*^9}, 3.6388083748059998`*^9, 
   3.6388091443310003`*^9, {3.638812039756*^9, 3.638812049251*^9}, {
   3.638812182376*^9, 3.638812247311*^9}, {3.638812329637*^9, 
   3.638812331854*^9}, {3.638889502303*^9, 3.6388895085439997`*^9}, 
   3.6424445761316*^9, {3.6431275931706*^9, 3.6431277570685997`*^9}, 
   3.6431278652326*^9, {3.6431279187136*^9, 3.6431279327916*^9}, {
   3.6431280173466*^9, 3.6431280833606*^9}, {3.6431285430316*^9, 
   3.6431286068756*^9}, {3.6431324672796*^9, 3.6431324817166*^9}, {
   3.6431325457455997`*^9, 3.6431325628276*^9}, {3.6431326079676*^9, 
   3.6431326173946*^9}, {3.6431326733466*^9, 3.6431326766696*^9}}],

Cell[BoxData["Constraints"], "Output",
 CellChangeTimes->{
  3.6431278426026*^9, 3.6431279079026003`*^9, 3.6431279602866*^9, {
   3.6431280590025997`*^9, 3.6431281224426003`*^9}, 3.6431281897326*^9, 
   3.6431285785206003`*^9, 3.6431286098616*^9, 3.6431286438506002`*^9, 
   3.6431301980285997`*^9, 3.6431320837265997`*^9, 3.6431325118436003`*^9, {
   3.6431325487736*^9, 3.6431325631085997`*^9}, 3.6431326180176*^9}],

Cell[BoxData[
 RowBox[{
  SqrtBox[
   RowBox[{
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{
       RowBox[{"lthigh", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "3"], "]"}], " ", 
        SubscriptBox["u", "3"]}], "+", 
       RowBox[{"lshank", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "4"], "]"}], " ", 
        SubscriptBox["u", "4"]}], "-", 
       RowBox[{"lpulley", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "5"], "]"}], " ", 
        SubscriptBox["u", "5"]}]}], ")"}], "2"], "+", 
    SuperscriptBox[
     RowBox[{"(", 
      RowBox[{
       RowBox[{"lthigh", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}], " ", 
        SubscriptBox["u", "3"]}], "+", 
       RowBox[{"lshank", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "4"], "]"}], " ", 
        SubscriptBox["u", "4"]}], "-", 
       RowBox[{"lpulley", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "5"], "]"}], " ", 
        SubscriptBox["u", "5"]}]}], ")"}], "2"]}]], "\[Equal]", 
  "0"}]], "Output",
 CellChangeTimes->{
  3.6431278426026*^9, 3.6431279079026003`*^9, 3.6431279602866*^9, {
   3.6431280590025997`*^9, 3.6431281224426003`*^9}, 3.6431281897326*^9, 
   3.6431285785206003`*^9, 3.6431286098616*^9, 3.6431286438506002`*^9, 
   3.6431301980285997`*^9, 3.6431320837265997`*^9, 3.6431325118436003`*^9, {
   3.6431325487736*^9, 3.6431325631085997`*^9}, 3.6431326181436*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "1"}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6431278426026*^9, 3.6431279079026003`*^9, 3.6431279602866*^9, {
   3.6431280590025997`*^9, 3.6431281224426003`*^9}, 3.6431281897326*^9, 
   3.6431285785206003`*^9, 3.6431286098616*^9, 3.6431286438506002`*^9, 
   3.6431301980285997`*^9, 3.6431320837265997`*^9, 3.6431325118436003`*^9, {
   3.6431325487736*^9, 3.6431325631085997`*^9}, 3.6431326181476*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{"0", ",", "0", ",", "0"}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6431278426026*^9, 3.6431279079026003`*^9, 3.6431279602866*^9, {
   3.6431280590025997`*^9, 3.6431281224426003`*^9}, 3.6431281897326*^9, 
   3.6431285785206003`*^9, 3.6431286098616*^9, 3.6431286438506002`*^9, 
   3.6431301980285997`*^9, 3.6431320837265997`*^9, 3.6431325118436003`*^9, {
   3.6431325487736*^9, 3.6431325631085997`*^9}, 3.6431326181806*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "1"}], ",", "1", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6431278426026*^9, 3.6431279079026003`*^9, 3.6431279602866*^9, {
   3.6431280590025997`*^9, 3.6431281224426003`*^9}, 3.6431281897326*^9, 
   3.6431285785206003`*^9, 3.6431286098616*^9, 3.6431286438506002`*^9, 
   3.6431301980285997`*^9, 3.6431320837265997`*^9, 3.6431325118436003`*^9, {
   3.6431325487736*^9, 3.6431325631085997`*^9}, 3.6431326181836*^9}]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.6431279269086*^9, 3.6431279278136*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  StyleBox[
   RowBox[{
   "Velocities", " ", "Points", " ", "And", " ", "Other", " ", "Things"}], 
   "Subtitle"], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"totalMass", " ", "=", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Mass", "[", "pelvis", "]"}], " ", "+", " ", 
       RowBox[{"Mass", "[", "foot1", "]"}], " ", "+", " ", 
       RowBox[{"Mass", "[", "foot2", "]"}]}], ")"}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"totalMass", " ", "=", " ", 
    RowBox[{"(", 
     RowBox[{"Mass", "[", "pelvis", "]"}], " ", ")"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"footpos", " ", "=", " ", 
   RowBox[{"PosCOM", "[", "foot1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pelvpos", " ", "=", " ", 
   RowBox[{"PosCOM", "[", "pelvis", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"kneepos", " ", "=", " ", 
    RowBox[{"PosCOM", "[", "knee1", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"footvel", "=", " ", 
   RowBox[{"VelCOM", "[", "foot1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pelvvel", "=", " ", 
   RowBox[{"VelCOM", "[", "pelvis", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"kneevel", "=", " ", 
    RowBox[{"VelCOM", "[", "knee1", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMpos", "  ", "=", " ", 
   RowBox[{"PosCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMvel", " ", "=", " ", 
   RowBox[{"VelCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.6385441624230003`*^9, 3.638544302492*^9}, {
  3.6385445079110003`*^9, 3.6385445722060003`*^9}, {3.6387165056925*^9, 
  3.6387165383075*^9}, {3.640015860708*^9, 3.640015878236*^9}, {
  3.6400159274370003`*^9, 3.6400159703719997`*^9}, {3.6400160755559998`*^9, 
  3.6400160939119997`*^9}, {3.640016162336*^9, 3.64001621762*^9}, {
  3.6400164799560003`*^9, 3.6400164985629997`*^9}, {3.6400165599630003`*^9, 
  3.640016584576*^9}, {3.6400166814189997`*^9, 3.6400166852860003`*^9}, {
  3.640016785951*^9, 3.640016793017*^9}, {3.64002301174*^9, 
  3.640023014582*^9}, {3.6424445837986*^9, 3.6424446428906*^9}}],

Cell[BoxData[
 RowBox[{"And", " ", "Other", " ", "Points", " ", "Things", " ", 
  "Velocities"}]], "Output",
 CellChangeTimes->{
  3.638544652144*^9, 3.638548205118*^9, 3.6385486940039997`*^9, 
   3.6385490645369997`*^9, 3.6387152325474997`*^9, 3.6387152787675*^9, 
   3.6387153233785*^9, {3.6387159283745003`*^9, 3.6387159391145*^9}, 
   3.6387159708295*^9, 3.6387160562125*^9, 3.6387161379565*^9, 
   3.6387165501064997`*^9, 3.6387168516005*^9, 3.638808073061*^9, 
   3.638808125172*^9, {3.640015864527*^9, 3.640015910652*^9}, 
   3.640015947358*^9, 3.640016094933*^9, {3.640016193156*^9, 
   3.640016218229*^9}, 3.6400164840699997`*^9, 3.640016585531*^9, 
   3.640016685551*^9, 3.640016794558*^9, 3.640023014975*^9, 
   3.6424447641345997`*^9, {3.6425152595046*^9, 3.6425152887796*^9}, 
   3.6425154337326*^9, 3.6425155150495996`*^9, 3.6425256241056004`*^9, 
   3.6425296407335997`*^9, 3.6430407704526*^9, 3.6430408497186003`*^9, 
   3.6430410786015997`*^9, 3.6430418387736*^9, 3.6430420917516003`*^9, 
   3.6430421390896*^9, 3.6431241038226*^9, 3.6431256035196*^9, 
   3.6431258850586*^9, 3.6431261858356*^9, 3.6431268680986*^9, 
   3.6431278431066*^9, 3.6431279084096003`*^9, 3.6431279603506002`*^9, {
   3.6431280954726*^9, 3.6431281224946003`*^9}, 3.6431281897946*^9, 
   3.6431285785856*^9, 3.6431286099256*^9, 3.6431286439175997`*^9, 
   3.6431301980976*^9, 3.6431320837956*^9, 3.6431325119136*^9, 
   3.6431325488316*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 StyleBox[
  RowBox[{"Export", "\[IndentingNewLine]"}], 
  "Subtitle"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"inGroundFrame2D", "[", "v_", "]"}], " ", ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"v", ".", 
       RowBox[{"ground", "[", "1", "]"}]}], ",", " ", 
      RowBox[{"v", ".", 
       RowBox[{"ground", "[", "2", "]"}]}]}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expressionsToExport", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"KE", ",", "\"\<kineticEnergy\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"PE", ",", "\"\<potentialEnergy\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"gravE", ",", "\"\<PEgrav\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"springE", ",", "\"\<PEspring\>\""}], "}"}], ",", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "footpos", "]"}], ",", 
       "\"\<points.foot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "kneepos", "]"}], ",", 
       "\"\<points.knee\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "pelvpos", "]"}], ",", 
       "\"\<points.pelvis\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "COMpos", "]"}], ",", 
       "\"\<points.COM\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", 
        RowBox[{"PosCOM", "[", "pulley", "]"}], "]"}], ",", 
       "\"\<points.pulley\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "footvel", "]"}], ",", 
       "\"\<vels.foot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "kneevel", "]"}], ",", 
       "\"\<vels.knee\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "pelvvel", "]"}], ",", 
       "\"\<vels.pelvis\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", 
        RowBox[{"VelCOM", "[", "pulley", "]"}], "]"}], ",", 
       "\"\<vels.pulley\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "COMvel", "]"}], ",", 
       "\"\<vels.COM\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"MMfoot", ",", "\"\<MM\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"rhsfoot", ",", "\"\<rhs\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CPulleyLock", ",", "\"\<CPulleyLock\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CPulleyLockDot", ",", "\"\<CPulleyLockDot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CPulleyFree", ",", "\"\<CPulleyFree\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CPulleyFreeDot", ",", "\"\<CPulleyFreeDot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CKneeLock", ",", "\"\<CKneeLock\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"CKneeLockDot", ",", "\"\<CKneeLockDot\>\""}], "}"}]}], "}"}]}],
   "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["ExportCode", "Input"], 
  StyleBox["[", "Input"], 
  RowBox[{
   StyleBox[
    RowBox[{"{", 
     RowBox[{"MM", ",", "rhs"}], "}"}], "Input"], ",", 
   RowBox[{"Expressions", "\[Rule]", "expressionsToExport"}], ",", 
   RowBox[{
    StyleBox["OutputFile", "Input"], 
    StyleBox["\[Rule]", "Input"], "savename"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.638544320054*^9, 3.638544478205*^9}, {3.638544579977*^9,
    3.63854462967*^9}, 3.6424446605646*^9, {3.6424446955456*^9, 
   3.6424447548876*^9}, 3.6425154616786003`*^9, {3.6430410460526*^9, 
   3.6430410577316*^9}, {3.6430421351226*^9, 3.6430421641126003`*^9}, {
   3.6431268435726*^9, 3.6431268637916*^9}, {3.6431277660796003`*^9, 
   3.6431278369046*^9}, {3.6431286221826*^9, 3.6431286405886*^9}}],

Cell[BoxData["Export"], "Output",
 CellChangeTimes->{
  3.638544652224*^9, 3.638548205138*^9, 3.638548694024*^9, 3.638549064557*^9, 
   3.6387152327205*^9, 3.6387152788045*^9, 3.6387153234175*^9, {
   3.6387159284125*^9, 3.6387159391545*^9}, 3.6387159709685*^9, 
   3.6387160562465*^9, 3.6387161380004997`*^9, 3.6387165501455*^9, 
   3.6387168516435003`*^9, 3.638808073091*^9, 3.6388081252019997`*^9, {
   3.640015882834*^9, 3.640015910699*^9}, 3.6424447644175997`*^9, {
   3.6425152595446*^9, 3.6425152888496*^9}, 3.6425154337726*^9, 
   3.6425155150896*^9, 3.6425256241436*^9, 3.6425296407736*^9, 
   3.6430407705396*^9, 3.6430408497586*^9, 3.6430410786586*^9, 
   3.6430418388336*^9, 3.6430420917925997`*^9, {3.6430421391286*^9, 
   3.6430421418126*^9}, 3.6431241038626003`*^9, 3.6431256035746*^9, 
   3.6431258851186*^9, 3.6431261858666*^9, 3.6431268681666*^9, 
   3.6431278431616*^9, 3.6431279084476*^9, 3.6431279604076*^9, {
   3.6431280955316*^9, 3.6431281225306*^9}, 3.6431281898546*^9, 
   3.6431285786356*^9, 3.6431286099756002`*^9, 3.6431286439706*^9, 
   3.6431301981526003`*^9, 3.6431320838276*^9, 3.6431325119695997`*^9, 
   3.6431325488786*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"1", "+", "mfoot"}], ")"}], " ", 
         SubsuperscriptBox["u", "1", "2"]}], "+", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"1", "+", "mfoot"}], ")"}], " ", 
         SubsuperscriptBox["u", "2", "2"]}], "+", 
        RowBox[{
         SuperscriptBox["lthigh", "2"], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        RowBox[{
         SuperscriptBox["lthigh", "2"], " ", "mfoot", " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        RowBox[{"2", " ", "lshank", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}], " ", 
         SubscriptBox["u", "3"], " ", 
         SubscriptBox["u", "4"]}], "+", 
        RowBox[{
         SuperscriptBox["lshank", "2"], " ", "mfoot", " ", 
         SubsuperscriptBox["u", "4", "2"]}], "+", 
        RowBox[{"2", " ", 
         SubscriptBox["u", "2"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"lthigh", " ", 
            RowBox[{"(", 
             RowBox[{"1", "+", "mfoot"}], ")"}], " ", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["u", "3"]}], "+", 
           RowBox[{"lshank", " ", "mfoot", " ", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "4"], "]"}], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}], "-", 
        RowBox[{"2", " ", 
         SubscriptBox["u", "1"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"lthigh", " ", 
            RowBox[{"(", 
             RowBox[{"1", "+", "mfoot"}], ")"}], " ", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["u", "3"]}], "+", 
           RowBox[{"lshank", " ", "mfoot", " ", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "4"], "]"}], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}]}], ")"}]}], 
     ",", "\<\"kineticEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", "g", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "+", 
        RowBox[{"kknee", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"kneel", "-", 
            SqrtBox[
             RowBox[{
              SuperscriptBox[
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"lthigh", " ", 
                  RowBox[{"Cos", "[", 
                   SubscriptBox["q", "3"], "]"}]}], "+", 
                 RowBox[{"lshank", " ", 
                  RowBox[{"Cos", "[", 
                   SubscriptBox["q", "4"], "]"}]}], "-", 
                 RowBox[{"lpulley", " ", 
                  RowBox[{"Cos", "[", 
                   SubscriptBox["q", "5"], "]"}]}]}], ")"}], "2"], "+", 
              SuperscriptBox[
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"lthigh", " ", 
                  RowBox[{"Sin", "[", 
                   SubscriptBox["q", "3"], "]"}]}], "+", 
                 RowBox[{"lshank", " ", 
                  RowBox[{"Sin", "[", 
                   SubscriptBox["q", "4"], "]"}]}], "-", 
                 RowBox[{"lpulley", " ", 
                  RowBox[{"Sin", "[", 
                   SubscriptBox["q", "5"], "]"}]}]}], ")"}], "2"]}]]}], ")"}],
           "2"]}], "-", 
        RowBox[{"2", " ", "g", " ", 
         RowBox[{"Sin", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "1"]}], "+", 
        RowBox[{"2", " ", "g", " ", 
         RowBox[{"Cos", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "2"]}], "-", 
        RowBox[{"2", " ", "g", " ", "mfoot", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"lthigh", " ", 
            RowBox[{"Sin", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "3"]}], "]"}]}], "+", 
           RowBox[{"lshank", " ", 
            RowBox[{"Sin", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "+", 
           RowBox[{
            RowBox[{"Sin", "[", "gslope", "]"}], " ", 
            SubscriptBox["q", "1"]}], "-", 
           RowBox[{
            RowBox[{"Cos", "[", "gslope", "]"}], " ", 
            SubscriptBox["q", "2"]}]}], ")"}]}], "+", 
        RowBox[{"khip", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"hipl", "-", 
            SubscriptBox["q", "3"]}], ")"}], "2"]}]}], ")"}]}], 
     ",", "\<\"potentialEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"-", "g"}], " ", "lthigh", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"gslope", "-", 
         SubscriptBox["q", "3"]}], "]"}]}], "-", 
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", "gslope", "]"}], " ", 
       SubscriptBox["q", "1"]}], "+", 
      RowBox[{"g", " ", 
       RowBox[{"Cos", "[", "gslope", "]"}], " ", 
       SubscriptBox["q", "2"]}], "-", 
      RowBox[{"mfoot", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"g", " ", "lshank", " ", 
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "4"], "]"}], " ", 
          RowBox[{"Sin", "[", "gslope", "]"}]}], "+", 
         RowBox[{"g", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{"gslope", "-", 
            SubscriptBox["q", "3"]}], "]"}]}], "-", 
         RowBox[{"g", " ", "lshank", " ", 
          RowBox[{"Cos", "[", "gslope", "]"}], " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "4"], "]"}]}], "+", 
         RowBox[{"g", " ", 
          RowBox[{"Sin", "[", "gslope", "]"}], " ", 
          SubscriptBox["q", "1"]}], "-", 
         RowBox[{"g", " ", 
          RowBox[{"Cos", "[", "gslope", "]"}], " ", 
          SubscriptBox["q", "2"]}]}], ")"}]}]}], ",", "\<\"PEgrav\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       FractionBox["1", "2"], " ", "kknee", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "kneel"}], "+", 
          SqrtBox[
           RowBox[{
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"lthigh", " ", 
                RowBox[{"Cos", "[", 
                 SubscriptBox["q", "3"], "]"}]}], "+", 
               RowBox[{"lshank", " ", 
                RowBox[{"Cos", "[", 
                 SubscriptBox["q", "4"], "]"}]}], "-", 
               RowBox[{"lpulley", " ", 
                RowBox[{"Cos", "[", 
                 SubscriptBox["q", "5"], "]"}]}]}], ")"}], "2"], "+", 
            SuperscriptBox[
             RowBox[{"(", 
              RowBox[{
               RowBox[{"lthigh", " ", 
                RowBox[{"Sin", "[", 
                 SubscriptBox["q", "3"], "]"}]}], "+", 
               RowBox[{"lshank", " ", 
                RowBox[{"Sin", "[", 
                 SubscriptBox["q", "4"], "]"}]}], "-", 
               RowBox[{"lpulley", " ", 
                RowBox[{"Sin", "[", 
                 SubscriptBox["q", "5"], "]"}]}]}], ")"}], "2"]}]]}], ")"}], 
        "2"]}], "+", 
      RowBox[{
       FractionBox["1", "2"], " ", "khip", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "hipl"}], "+", 
          SubscriptBox["q", "3"]}], ")"}], "2"]}]}], 
     ",", "\<\"PEspring\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"lthigh", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}]}], "+", 
        RowBox[{"lshank", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "4"], "]"}]}], "+", 
        SubscriptBox["q", "1"]}], ",", 
       RowBox[{
        RowBox[{"lthigh", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}]}], "+", 
        RowBox[{"lshank", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "4"], "]"}]}], "+", 
        SubscriptBox["q", "2"]}]}], "}"}], ",", "\<\"points.foot\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"lthigh", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}]}], "+", 
        SubscriptBox["q", "1"]}], ",", 
       RowBox[{
        RowBox[{"lthigh", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}]}], "+", 
        SubscriptBox["q", "2"]}]}], "}"}], ",", "\<\"points.knee\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.pelvis\"\>"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.COM\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"lpulley", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "5"], "]"}]}], "+", 
        SubscriptBox["q", "1"]}], ",", 
       RowBox[{
        RowBox[{"lpulley", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "5"], "]"}]}], "+", 
        SubscriptBox["q", "2"]}]}], "}"}], ",", "\<\"points.pulley\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["u", "1"], "-", 
        RowBox[{"lthigh", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}], "-", 
        RowBox[{"lshank", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "4"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        RowBox[{"lthigh", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}], "+", 
        RowBox[{"lshank", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "4"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}]}], "}"}], ",", "\<\"vels.foot\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["u", "1"], "-", 
        RowBox[{"lthigh", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}]}], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        RowBox[{"lthigh", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}]}]}], "}"}], ",", "\<\"vels.knee\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.pelvis\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["u", "1"], "-", 
        RowBox[{"lpulley", " ", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "5"], "]"}], " ", 
         SubscriptBox["u", "5"]}]}], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        RowBox[{"lpulley", " ", 
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "5"], "]"}], " ", 
         SubscriptBox["u", "5"]}]}]}], "}"}], ",", "\<\"vels.pulley\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.COM\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          SuperscriptBox["lthigh", "2"], " ", 
          RowBox[{"(", 
           RowBox[{"1", "+", "mfoot"}], ")"}]}], ",", 
         RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
          RowBox[{"Cos", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "4"]}], "]"}]}], ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
          RowBox[{"Cos", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "4"]}], "]"}]}], ",", 
         RowBox[{
          SuperscriptBox["lshank", "2"], " ", "mfoot"}], ",", "0"}], "}"}], 
       ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "}"}], 
     ",", "\<\"MM\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"hipl", " ", "khip"}], "-", 
        RowBox[{
         SuperscriptBox["lthigh", "2"], " ", 
         RowBox[{"(", 
          RowBox[{"1", "+", "mfoot"}], ")"}], " ", "xpacc"}], "-", 
        RowBox[{"2", " ", "g", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", "ypacc", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "+", 
        RowBox[{"kknee", " ", "lshank", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "-", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lshank", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "4"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"kknee", " ", "lpulley", " ", "lthigh", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "5"]}], "]"}]}], "+", 
        FractionBox[
         RowBox[{"kknee", " ", "kneel", " ", "lpulley", " ", "lthigh", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["q", "3"], "-", 
            SubscriptBox["q", "5"]}], "]"}]}], 
         SqrtBox[
          RowBox[{
           SuperscriptBox["lpulley", "2"], "+", 
           SuperscriptBox["lshank", "2"], "+", 
           SuperscriptBox["lthigh", "2"], "+", 
           RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}], "-", 
           RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{
              SubscriptBox["q", "4"], "-", 
              SubscriptBox["q", "5"]}], "]"}]}]}]]], "-", 
        RowBox[{"khip", " ", 
         SubscriptBox["q", "3"]}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}], " ", 
         SubsuperscriptBox["u", "4", "2"]}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{"-", 
          SuperscriptBox["lshank", "2"]}], " ", "mfoot", " ", "ypacc"}], "-", 
        RowBox[{"lshank", " ", "lthigh", " ", "mfoot", " ", "xpacc", " ", 
         RowBox[{"Cos", "[", 
          RowBox[{
           SubscriptBox["q", "3"], "-", 
           SubscriptBox["q", "4"]}], "]"}]}], "+", 
        RowBox[{"lshank", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "g"}], " ", "mfoot", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "4"]}], "]"}]}], "-", 
           FractionBox[
            RowBox[{"kknee", " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"-", "kneel"}], "+", 
               SqrtBox[
                RowBox[{
                 SuperscriptBox["lpulley", "2"], "+", 
                 SuperscriptBox["lshank", "2"], "+", 
                 SuperscriptBox["lthigh", "2"], "+", 
                 RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "3"], "-", 
                    SubscriptBox["q", "4"]}], "]"}]}], "-", 
                 RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "3"], "-", 
                    SubscriptBox["q", "5"]}], "]"}]}], "-", 
                 RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    SubscriptBox["q", "4"], "-", 
                    SubscriptBox["q", "5"]}], "]"}]}]}]]}], ")"}], " ", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"lthigh", " ", 
                RowBox[{"Sin", "[", 
                 RowBox[{
                  SubscriptBox["q", "3"], "-", 
                  SubscriptBox["q", "4"]}], "]"}]}], "+", 
               RowBox[{"lpulley", " ", 
                RowBox[{"Sin", "[", 
                 RowBox[{
                  SubscriptBox["q", "4"], "-", 
                  SubscriptBox["q", "5"]}], "]"}]}]}], ")"}]}], 
            SqrtBox[
             RowBox[{
              SuperscriptBox["lpulley", "2"], "+", 
              SuperscriptBox["lshank", "2"], "+", 
              SuperscriptBox["lthigh", "2"], "+", 
              RowBox[{"2", " ", "lshank", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "4"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lthigh", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "3"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}], "-", 
              RowBox[{"2", " ", "lpulley", " ", "lshank", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 SubscriptBox["q", "4"], "-", 
                 SubscriptBox["q", "5"]}], "]"}]}]}]]], "+", 
           RowBox[{"lthigh", " ", "mfoot", " ", 
            RowBox[{"Sin", "[", 
             RowBox[{
              SubscriptBox["q", "3"], "-", 
              SubscriptBox["q", "4"]}], "]"}], " ", 
            SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}], ",", "0"}], 
      "}"}], ",", "\<\"rhs\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "1"}], "}"}], "}"}], 
     ",", "\<\"CPulleyLock\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], "}"}], 
     ",", "\<\"CPulleyLockDot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], "}"}], 
     ",", "\<\"CPulleyFree\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}], "}"}], 
     ",", "\<\"CPulleyFreeDot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"-", "1"}], ",", "1", ",", "0"}], "}"}]}], "}"}], 
     ",", "\<\"CKneeLock\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "}"}], 
     ",", "\<\"CKneeLockDot\"\>"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.638544652224*^9, 3.638548205138*^9, 3.638548694024*^9, 3.638549064557*^9, 
   3.6387152327205*^9, 3.6387152788045*^9, 3.6387153234175*^9, {
   3.6387159284125*^9, 3.6387159391545*^9}, 3.6387159709685*^9, 
   3.6387160562465*^9, 3.6387161380004997`*^9, 3.6387165501455*^9, 
   3.6387168516435003`*^9, 3.638808073091*^9, 3.6388081252019997`*^9, {
   3.640015882834*^9, 3.640015910699*^9}, 3.6424447644175997`*^9, {
   3.6425152595446*^9, 3.6425152888496*^9}, 3.6425154337726*^9, 
   3.6425155150896*^9, 3.6425256241436*^9, 3.6425296407736*^9, 
   3.6430407705396*^9, 3.6430408497586*^9, 3.6430410786586*^9, 
   3.6430418388336*^9, 3.6430420917925997`*^9, {3.6430421391286*^9, 
   3.6430421418126*^9}, 3.6431241038626003`*^9, 3.6431256035746*^9, 
   3.6431258851186*^9, 3.6431261858666*^9, 3.6431268681666*^9, 
   3.6431278431616*^9, 3.6431279084476*^9, 3.6431279604076*^9, {
   3.6431280955316*^9, 3.6431281225306*^9}, 3.6431281898546*^9, 
   3.6431285786356*^9, 3.6431286099756002`*^9, 3.6431286439706*^9, 
   3.6431301981526003`*^9, 3.6431320838276*^9, 3.6431325119695997`*^9, 
   3.6431325488896*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Opening file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM \
Notebooks\\\\RetractKneePulley.m\"\>", "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Opening file \"", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM \
Notebooks\\RetractKneePulley.m", "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.6431241038726*^9, 3.6431256035886*^9, 3.6431258851626*^9, 
   3.6431261859006*^9, 3.6431268682036*^9, 3.6431278431846*^9, 
   3.6431279084896*^9, 3.6431279604236*^9, {3.6431280955486*^9, 
   3.6431281225446*^9}, 3.6431281898836*^9, 3.6431285786576*^9, 
   3.6431286099946003`*^9, 3.6431286439896*^9, 3.6431301981736*^9, 
   3.6431320838726*^9, 3.6431325119846*^9, 3.6431325488976*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Current directory: \"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM Notebooks\"\>"}],
  SequenceForm[
  "Current directory: ", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM Notebooks"],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.6431241038726*^9, 3.6431256035886*^9, 3.6431258851626*^9, 
   3.6431261859006*^9, 3.6431268682036*^9, 3.6431278431846*^9, 
   3.6431279084896*^9, 3.6431279604236*^9, {3.6431280955486*^9, 
   3.6431281225446*^9}, 3.6431281898836*^9, 3.6431285786576*^9, 
   3.6431286099946003`*^9, 3.6431286439896*^9, 3.6431301981736*^9, 
   3.6431320838726*^9, 3.6431325119846*^9, 3.6431325488996*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Closing file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL \
Student\\\\Documents\\\\RunModels\\\\EOM \
Notebooks\\\\RetractKneePulley.m\"\>", "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Closing file \"", 
   "C:\\Users\\HBCL Student\\Documents\\RunModels\\EOM \
Notebooks\\RetractKneePulley.m", "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.6431241038726*^9, 3.6431256035886*^9, 3.6431258851626*^9, 
   3.6431261859006*^9, 3.6431268682036*^9, 3.6431278431846*^9, 
   3.6431279084896*^9, 3.6431279604236*^9, {3.6431280955486*^9, 
   3.6431281225446*^9}, 3.6431281898836*^9, 3.6431285786576*^9, 
   3.6431286099946003`*^9, 3.6431286439896*^9, 3.6431301981736*^9, 
   3.6431320838726*^9, 3.6431325119846*^9, 3.6431325489426003`*^9}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1904, 1113},
WindowMargins->{{260, Automatic}, {Automatic, 48}},
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (November 20, 2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 86, 1, 31, "Input"],
Cell[CellGroupData[{
Cell[668, 25, 1004, 23, 179, "Input"],
Cell[1675, 50, 1155, 18, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2867, 73, 3688, 84, 288, "Input"],
Cell[6558, 159, 1274, 20, 31, "Output"],
Cell[7835, 181, 1241, 20, 31, "Output"],
Cell[9079, 203, 1229, 19, 31, "Output"],
Cell[10311, 224, 1252, 20, 31, "Output"],
Cell[11566, 246, 1233, 19, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12836, 270, 11624, 304, 1079, "Input"],
Cell[24463, 576, 1816, 30, 31, "Output"],
Cell[26282, 608, 1722, 26, 31, "Output"],
Cell[28007, 636, 1718, 26, 31, "Output"],
Cell[29728, 664, 1718, 26, 31, "Output"],
Cell[31449, 692, 4262, 100, 107, "Output"],
Cell[35714, 794, 16420, 386, 279, "Output"],
Cell[52137, 1182, 2854, 60, 77, "Output"],
Cell[54994, 1244, 9155, 211, 159, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[64186, 1460, 3126, 93, 200, "Input"],
Cell[67315, 1555, 1164, 18, 31, "Output"],
Cell[68482, 1575, 2274, 51, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[70793, 1631, 4414, 114, 319, "Input"],
Cell[75210, 1747, 417, 6, 31, "Output"],
Cell[75630, 1755, 1471, 40, 40, "Output"],
Cell[77104, 1797, 486, 9, 31, "Output"],
Cell[77593, 1808, 486, 9, 31, "Output"],
Cell[78082, 1819, 591, 13, 31, "Output"]
}, Open  ]],
Cell[78688, 1835, 88, 1, 31, "Input"],
Cell[CellGroupData[{
Cell[78801, 1840, 2419, 60, 320, "Input"],
Cell[81223, 1902, 1431, 23, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[82691, 1930, 4044, 104, 300, "Input"],
Cell[86738, 2036, 1159, 18, 31, "Output"],
Cell[87900, 2056, 22278, 608, 503, "Output"],
Cell[CellGroupData[{
Cell[110203, 2668, 819, 17, 23, "Print"],
Cell[111025, 2687, 734, 15, 23, "Print"],
Cell[111762, 2704, 823, 17, 23, "Print"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
