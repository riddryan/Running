(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     90234,       2311]
NotebookOptionsPosition[     88044,       2243]
NotebookOutlinePosition[     88390,       2258]
CellTagsIndexPosition[     88347,       2255]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.638543199516*^9, 3.638543200696*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  StyleBox["Initialization", "Subtitle"], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "SetDirectory", "[", 
     "\"\<C:\\\\Users\\\\HBCL Student\\\\Documents\\\\Ryan\\\\Model and \
Structure\\\\dynamicWalking\\\\Branches\\\\riddryan\\\\NewStruct\\\\EOM \
Notebooks\>\"", "]"}], ";"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "SetDirectory", "[", 
   "\"\<C:\\\\Users\\\\HBCL Student\\\\Documents\\\\Ryan\\\\Model and \
Structure\\\\dynamicWalking\\\\Branches\\\\riddryan\\\\NewStruct\\\\EOM \
Notebooks\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Needs", "[", "\"\<DynamicsWorkbench`\>\"", "]"}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"workdir", " ", "=", " ", 
   RowBox[{"Directory", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"savename", " ", "=", " ", 
   RowBox[{"workdir", " ", "<>", " ", "\"\<\\\\Swing.m\>\""}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"NewModel", "[", "]"}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.640352555085*^9,
   3.640352557941*^9}, {3.640356143788*^9, 3.640356144451*^9}}],

Cell[BoxData["Initialization"], "Output",
 CellChangeTimes->{
  3.63854464898*^9, 3.638548204918*^9, 3.638548693874*^9, 
   3.6385490643570004`*^9, 3.6387152312635*^9, 3.6387152785065002`*^9, 
   3.6387153231215*^9, {3.6387159281095*^9, 3.6387159388535*^9}, 
   3.6387159705675*^9, 3.6387160557615*^9, 3.6387161376875*^9, 
   3.6387165495585003`*^9, 3.6387168513535*^9, 3.638808072851*^9, 
   3.638808124942*^9, {3.6400158814639997`*^9, 3.640015910058*^9}, 
   3.6403527225299997`*^9, 3.640353857821*^9, 3.6403539340299997`*^9, 
   3.640354247073*^9, 3.6403561470220003`*^9, 3.6403564474820004`*^9, 
   3.64035669588*^9, 3.6403567468780003`*^9, {3.640357824424*^9, 
   3.6403578398120003`*^9}, 3.640361173425*^9, 3.640362262644*^9, 
   3.64036643584*^9, 3.640366541278*^9, 3.640367420948*^9, 3.640447630962*^9, 
   3.640447873453*^9, 3.6404485573269997`*^9, 3.640448988975*^9, 
   3.640449049656*^9, 3.640449153941*^9, 3.640449248696*^9, 
   3.6404493005559998`*^9, 3.640449338906*^9, 3.6404499756070004`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   StyleBox["Equations", "Subtitle"], 
   StyleBox[" ", "Subtitle"], 
   StyleBox["of", "Subtitle"], " ", 
   StyleBox["Motion", "Subtitle"]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Set", "Section"], 
  StyleBox[" ", "Section"], 
  StyleBox["up", "Section"], " ", 
  StyleBox["Bodies", "Section"]}], "\[IndentingNewLine]", 
 StyleBox["Pelvis", "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvisx", ",", "ground", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "1", "]"}]}], ",", 
    RowBox[{"Qdof", "\[Rule]", "1"}], ",", 
    RowBox[{"Udof", "\[Rule]", "1"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"pelvis", ",", "pelvisx", ",", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"ground", "[", "2", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mpelvis"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "2"}], ",", 
    RowBox[{"Udof", "\[Rule]", "2"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 StyleBox[
  RowBox[{"Stance", " ", "Leg"}], "Subsection"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"leghinge1", ",", "pelvis", ",", "Hinge", ",", 
    RowBox[{"Axis", "\[Rule]", 
     RowBox[{"ground", "[", "3", "]"}]}], ",", 
    RowBox[{"InbToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"RelativeTo", "\[Rule]", "ground"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "3"}], ",", 
    RowBox[{"Udof", "\[Rule]", "3"}]}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AddBody", "[", 
   RowBox[{"foot1", ",", " ", "leghinge1", ",", " ", "Slider", ",", 
    RowBox[{"TAxis", "\[Rule]", 
     RowBox[{"leghinge1", "[", "1", "]"}]}], ",", 
    RowBox[{"Mass", "\[Rule]", "mfoot"}], ",", 
    RowBox[{"InbToJnt", "->", "0"}], ",", 
    RowBox[{"BodyToJnt", "\[Rule]", "0"}], ",", 
    RowBox[{"Qdof", "\[Rule]", "4"}], ",", 
    RowBox[{"Udof", "\[Rule]", "4"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.638543223027*^9, 3.638543241002*^9}, {3.638543276396*^9,
    3.6385432834849997`*^9}, {3.6385433209630003`*^9, 3.638543361314*^9}, 
   3.6403525705889997`*^9}],

Cell[BoxData[
 RowBox[{"Equations", " ", "Motion", " ", "of"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.64035272256*^9, 3.6403538578599997`*^9, 3.6403539340699997`*^9, 
   3.640354247106*^9, 3.640356147051*^9, 3.640356447516*^9, 3.640356695921*^9,
    3.6403567469110003`*^9, {3.64035782446*^9, 3.640357839843*^9}, 
   3.640361173459*^9, 3.640362262679*^9, 3.6403664358789997`*^9, 
   3.640366541309*^9, 3.640367420984*^9, 3.640447631006*^9, 3.64044787351*^9, 
   3.64044855737*^9, 3.64044898902*^9, 3.640449049699*^9, 
   3.6404491540109997`*^9, 3.640449248736*^9, 3.6404493005959997`*^9, 
   3.640449338951*^9, 3.640449975645*^9}],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.64035272256*^9, 3.6403538578599997`*^9, 3.6403539340699997`*^9, 
   3.640354247106*^9, 3.640356147051*^9, 3.640356447516*^9, 3.640356695921*^9,
    3.6403567469110003`*^9, {3.64035782446*^9, 3.640357839843*^9}, 
   3.640361173459*^9, 3.640362262679*^9, 3.6403664358789997`*^9, 
   3.640366541309*^9, 3.640367420984*^9, 3.640447631006*^9, 3.64044787351*^9, 
   3.64044855737*^9, 3.64044898902*^9, 3.640449049699*^9, 
   3.6404491540109997`*^9, 3.640449248736*^9, 3.6404493005959997`*^9, 
   3.640449338951*^9, 3.640449975676*^9}],

Cell[BoxData["Pelvis"], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.64035272256*^9, 3.6403538578599997`*^9, 3.6403539340699997`*^9, 
   3.640354247106*^9, 3.640356147051*^9, 3.640356447516*^9, 3.640356695921*^9,
    3.6403567469110003`*^9, {3.64035782446*^9, 3.640357839843*^9}, 
   3.640361173459*^9, 3.640362262679*^9, 3.6403664358789997`*^9, 
   3.640366541309*^9, 3.640367420984*^9, 3.640447631006*^9, 3.64044787351*^9, 
   3.64044855737*^9, 3.64044898902*^9, 3.640449049699*^9, 
   3.6404491540109997`*^9, 3.640449248736*^9, 3.6404493005959997`*^9, 
   3.640449338951*^9, 3.6404499756800003`*^9}],

Cell[BoxData[
 RowBox[{"Leg", " ", "Stance"}]], "Output",
 CellChangeTimes->{
  3.638544650704*^9, 3.6385482049379997`*^9, 3.638548693894*^9, 
   3.638549064377*^9, 3.6387152312985*^9, 3.6387152785445004`*^9, 
   3.6387153231584997`*^9, {3.6387159281495*^9, 3.6387159388935003`*^9}, 
   3.6387159706075*^9, 3.6387160558005*^9, 3.6387161377215*^9, 
   3.6387165496055*^9, 3.6387168513955*^9, 3.638808072881*^9, 
   3.638808124972*^9, {3.640015881863*^9, 3.6400159100959997`*^9}, 
   3.64035272256*^9, 3.6403538578599997`*^9, 3.6403539340699997`*^9, 
   3.640354247106*^9, 3.640356147051*^9, 3.640356447516*^9, 3.640356695921*^9,
    3.6403567469110003`*^9, {3.64035782446*^9, 3.640357839843*^9}, 
   3.640361173459*^9, 3.640362262679*^9, 3.6403664358789997`*^9, 
   3.640366541309*^9, 3.640367420984*^9, 3.640447631006*^9, 3.64044787351*^9, 
   3.64044855737*^9, 3.64044898902*^9, 3.640449049699*^9, 
   3.6404491540109997`*^9, 3.640449248736*^9, 3.6404493005959997`*^9, 
   3.640449338951*^9, 3.64044997571*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{
    StyleBox[
     RowBox[{"Apply", " ", "Forces"}], "Section"], " ", 
    StyleBox["&", "Section"]}], 
   StyleBox[" ", "Section"], 
   StyleBox["Torques", "Section"]}], 
  StyleBox[" ", "Section"]}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Gravity", "Subsection"], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox[
   RowBox[{"AppFrc", "[", 
    RowBox[{"pelvis", ",", " ", 
     RowBox[{
      RowBox[{"Mass", "[", "pelvis", "]"}], " ", "grav"}], ",", " ", "0"}], 
    "]"}], "Input"], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppFrc", "[", 
    RowBox[{"foot1", ",", " ", 
     RowBox[{
      RowBox[{"Mass", "[", "foot1", "]"}], " ", "grav"}], ",", " ", "0"}], 
    "]"}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   StyleBox["grav", "Input"], 
   StyleBox[" ", "Input"], 
   StyleBox["=", "Input"], 
   StyleBox[" ", "Input"], 
   RowBox[{
    StyleBox["g", "Input"], 
    StyleBox[" ", "Input"], 
    RowBox[{
     StyleBox["(", "Input"], 
     RowBox[{
      RowBox[{
       RowBox[{
        StyleBox["-", "Input"], 
        RowBox[{"Cos", "[", "gslope", "]"}]}], 
       RowBox[{"ground", "[", "2", "]"}]}], " ", "+", " ", 
      RowBox[{
       RowBox[{"Sin", "[", "gslope", "]"}], " ", 
       RowBox[{"ground", "[", "1", "]"}]}]}], ")"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["Springs", "Subsection"], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"Swing", " ", "Spring"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"AppFrc", "[", 
   RowBox[{"pelvis", ",", " ", 
    RowBox[{"kswing", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "swingl"}], ")"}], " ", 
     RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppFrc", "[", 
    RowBox[{"foot1", ",", " ", 
     RowBox[{
      RowBox[{"-", "kswing"}], 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "swingl"}], ")"}], " ", 
      RowBox[{"leghinge1", "[", "1", "]"}]}], ",", " ", "0"}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{"Hip", " ", "Spring"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"AppTrq", "[", 
    RowBox[{"leghinge1", ",", " ", 
     RowBox[{"khip", 
      RowBox[{"(", 
       RowBox[{"stanceangle", " ", "-", 
        RowBox[{"q", "[", "3", "]"}], "-", "hipl"}], ")"}], " ", 
      RowBox[{"ground", "[", "3", "]"}]}]}], "]"}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"eom", " ", "=", " ", 
   RowBox[{"EOM", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"MM", ",", "rhs"}], "}"}], "=", 
   RowBox[{
    RowBox[{"MassMatrix", "[", "eom", "]"}], "//", "Simplify"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "MM", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MMtop", " ", "=", " ", 
   RowBox[{
    RowBox[{"MM", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{"mfoot", "\[Rule]", "0"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MMbot", " ", "=", " ", 
   RowBox[{
    RowBox[{"MM", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"3", ",", "4"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{"mfoot", "\[Rule]", "1"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rhstop", " ", "=", " ", 
   RowBox[{
    RowBox[{"rhs", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{"mfoot", "\[Rule]", "0"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rhsbot", " ", "=", " ", 
   RowBox[{
    RowBox[{"rhs", "[", 
     RowBox[{"[", 
      RowBox[{"{", 
       RowBox[{"3", ",", "4"}], "}"}], "]"}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{"mfoot", "\[Rule]", "1"}], "}"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MMfoot", " ", "=", " ", "MMbot"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rhsfoot", "  ", "=", " ", "rhsbot"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "MMfoot", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MatrixForm", "[", "rhsfoot", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"accs", " ", "=", " ", 
    RowBox[{"{", 
     RowBox[{"xpacc", ",", "ypacc", ",", "thetaacc", ",", "racc"}], "}"}]}], 
   ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"accs", "=", 
  RowBox[{
   RowBox[{
    RowBox[{"Solve", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"MMfoot", ".", "accs"}], " ", "\[Equal]", " ", "rhsfoot"}], 
      ",", 
      RowBox[{"{", 
       RowBox[{"thetaacc", ",", "racc"}], "}"}]}], "]"}], " ", "//.", " ", 
    RowBox[{"{", 
     RowBox[{"gslope", "\[Rule]", "0"}], "}"}]}], " ", "//", " ", 
   "Simplify"}]}], "\[IndentingNewLine]", 
 RowBox[{"A", " ", "=", " ", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"thetaacc", " ", ",", "racc"}], " ", "}"}], " ", "//.", " ", 
   "accs"}]}]}], "Input",
 CellChangeTimes->{{3.638543402567*^9, 3.638543540449*^9}, {
   3.6385437534370003`*^9, 3.638543850486*^9}, {3.638543978748*^9, 
   3.63854407583*^9}, {3.638548177789*^9, 3.638548180553*^9}, {
   3.638548670149*^9, 3.6385486859779997`*^9}, {3.638549058711*^9, 
   3.638549059751*^9}, {3.6387152283905*^9, 3.6387152766475*^9}, {
   3.6387153154855003`*^9, 3.6387153189895*^9}, {3.6387158748615*^9, 
   3.6387158790515003`*^9}, {3.6387159134195004`*^9, 
   3.6387160658345003`*^9}, {3.6387161006025*^9, 3.6387161343234997`*^9}, {
   3.6387162227305*^9, 3.6387162264595003`*^9}, {3.6387162872885*^9, 
   3.6387163362174997`*^9}, {3.638725066817*^9, 3.638725084465*^9}, {
   3.638725127369*^9, 3.638725130336*^9}, {3.638725741243*^9, 
   3.638725775631*^9}, 3.6388081213120003`*^9, {3.6388083799300003`*^9, 
   3.63880839502*^9}, 3.638808612742*^9, {3.638809124546*^9, 
   3.638809140363*^9}, {3.6403525735299997`*^9, 3.640352601102*^9}, {
   3.6403561221619997`*^9, 3.6403561399440002`*^9}, {3.640356191064*^9, 
   3.640356246637*^9}, {3.640356374354*^9, 3.640356425722*^9}, {
   3.6403565615369997`*^9, 3.640356616505*^9}, {3.640356646914*^9, 
   3.64035668254*^9}, {3.6403567381070004`*^9, 3.640356740559*^9}, {
   3.6403568793529997`*^9, 3.640356946858*^9}, 3.640357836906*^9, {
   3.640366315152*^9, 3.6403663260950003`*^9}, {3.6404483491540003`*^9, 
   3.640448352512*^9}, {3.6404491778789997`*^9, 3.640449242965*^9}}],

Cell[BoxData[
 RowBox[{"Torques", " ", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Apply", " ", "Forces"}], "&"}], ")"}]}]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.6404499757539997`*^9}],

Cell[BoxData["Gravity"], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.6404499757799997`*^9}],

Cell[BoxData["Springs"], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.640449975783*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"mfoot", "+", "mpelvis"}], "0", 
      RowBox[{
       RowBox[{"-", "mfoot"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}]},
     {"0", 
      RowBox[{"mfoot", "+", "mpelvis"}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}]},
     {
      RowBox[{
       RowBox[{"-", "mfoot"}], " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"mfoot", " ", 
       SubsuperscriptBox["q", "4", "2"]}], "0"},
     {
      RowBox[{"mfoot", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], 
      RowBox[{"mfoot", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], "0", "mfoot"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.640449975823*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}]}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      SubsuperscriptBox["q", "4", "2"], "0"},
     {
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "3"], "]"}], 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "3"], "]"}], "0", "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.640449975855*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", 
   TagBox[GridBox[{
      {
       RowBox[{
        RowBox[{"khip", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}]}], "-", 
        RowBox[{"khip", " ", 
         SubscriptBox["q", "3"]}], "-", 
        RowBox[{
         SubscriptBox["q", "4"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"g", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "3"]}], "]"}]}], "+", 
           RowBox[{"2", " ", 
            SubscriptBox["u", "3"], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}]}]},
      {
       RowBox[{
        RowBox[{"kswing", " ", "swingl"}], "+", 
        RowBox[{"g", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "+", 
        RowBox[{
         SubscriptBox["q", "4"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "kswing"}], "+", 
           SubsuperscriptBox["u", "3", "2"]}], ")"}]}]}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}},
        "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[0.5599999999999999]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    Column], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.6404499758599997`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"thetaacc", "\[Rule]", 
     FractionBox[
      RowBox[{
       RowBox[{"khip", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}]}], "-", 
       RowBox[{"khip", " ", 
        SubscriptBox["q", "3"]}], "-", 
       RowBox[{
        SubscriptBox["q", "4"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{"g", "+", "ypacc"}], ")"}], " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}]}], "-", 
          RowBox[{"xpacc", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], "+", 
          RowBox[{"2", " ", 
           SubscriptBox["u", "3"], " ", 
           SubscriptBox["u", "4"]}]}], ")"}]}]}], 
      SubsuperscriptBox["q", "4", "2"]]}], ",", 
    RowBox[{"racc", "\[Rule]", 
     RowBox[{
      RowBox[{"kswing", " ", "swingl"}], "-", 
      RowBox[{"xpacc", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], "-", 
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], "-", 
      RowBox[{"ypacc", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}], "+", 
      RowBox[{
       SubscriptBox["q", "4"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "kswing"}], "+", 
         SubsuperscriptBox["u", "3", "2"]}], ")"}]}]}]}]}], "}"}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.640449975894*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    FractionBox[
     RowBox[{
      RowBox[{"khip", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}]}], "-", 
      RowBox[{"khip", " ", 
       SubscriptBox["q", "3"]}], "-", 
      RowBox[{
       SubscriptBox["q", "4"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"g", "+", "ypacc"}], ")"}], " ", 
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}]}], "-", 
         RowBox[{"xpacc", " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "3"], "]"}]}], "+", 
         RowBox[{"2", " ", 
          SubscriptBox["u", "3"], " ", 
          SubscriptBox["u", "4"]}]}], ")"}]}]}], 
     SubsuperscriptBox["q", "4", "2"]], ",", 
    RowBox[{
     RowBox[{"kswing", " ", "swingl"}], "-", 
     RowBox[{"xpacc", " ", 
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "3"], "]"}]}], "-", 
     RowBox[{"g", " ", 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "3"], "]"}]}], "-", 
     RowBox[{"ypacc", " ", 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "3"], "]"}]}], "+", 
     RowBox[{
      SubscriptBox["q", "4"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"-", "kswing"}], "+", 
        SubsuperscriptBox["u", "3", "2"]}], ")"}]}]}]}], "}"}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.638544650914*^9, 3.638548204968*^9, 3.638548693924*^9, 3.638549064417*^9, 
   3.6387152313805*^9, 3.6387152786064997`*^9, 3.6387153232155*^9, {
   3.6387159282125*^9, 3.6387159389545*^9}, 3.6387159706654997`*^9, 
   3.6387160558605003`*^9, 3.6387161377805*^9, {3.6387163066085*^9, 
   3.6387163382585*^9}, 3.6387165496685*^9, 3.6387168514525003`*^9, 
   3.6388080729309998`*^9, 3.6388081250220003`*^9, 3.6388091291140003`*^9, {
   3.640015881981*^9, 3.6400159101400003`*^9}, 3.640352722598*^9, 
   3.640353857993*^9, 3.6403539341140003`*^9, 3.640354247148*^9, 
   3.640356147094*^9, {3.640356234116*^9, 3.640356247024*^9}, {
   3.640356379626*^9, 3.6403564012980003`*^9}, 3.6403564475559998`*^9, {
   3.640356564686*^9, 3.640356617025*^9}, {3.6403566829370003`*^9, 
   3.6403566959639997`*^9}, {3.640356741663*^9, 3.640356746957*^9}, {
   3.6403578245030003`*^9, 3.640357839884*^9}, 3.640361173502*^9, 
   3.640362262736*^9, 3.6403664359189997`*^9, 3.640366541349*^9, 
   3.6403674210290003`*^9, 3.640447631091*^9, 3.640447873572*^9, 
   3.640448352889*^9, 3.6404485574189997`*^9, 3.640448989073*^9, 
   3.6404490498529997`*^9, {3.640449125869*^9, 3.64044924884*^9}, 
   3.6404493007130003`*^9, 3.640449339041*^9, 3.640449975898*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  StyleBox["Energy", "Subtitle"], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
     StyleBox["gravE", "Input"], 
     StyleBox[" ", "Input"], 
     StyleBox["=", "Input"], 
     StyleBox[" ", "Input"], 
     RowBox[{
      StyleBox["-", "Input"], 
      RowBox[{
       StyleBox["(", "Input"], 
       RowBox[{
        RowBox[{
         RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
         RowBox[{"grav", ".", 
          RowBox[{"PosCOM", "[", "pelvis", "]"}]}]}], " ", "+", " ", 
        RowBox[{
         RowBox[{"Mass", "[", "foot1", "]"}], " ", 
         RowBox[{"grav", ".", 
          RowBox[{"PosCOM", "[", "foot1", "]"}]}]}], " ", "+", " ", 
        RowBox[{
         RowBox[{"Mass", "[", "foot2", "]"}], " ", 
         RowBox[{"grav", ".", 
          RowBox[{"PosCOM", "[", "foot2", "]"}]}]}]}], ")"}]}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    StyleBox["gravE", "Input"], 
    StyleBox[" ", "Input"], 
    StyleBox["=", "Input"], 
    StyleBox[" ", "Input"], 
    RowBox[{
     StyleBox["-", "Input"], 
     RowBox[{
      StyleBox["(", "Input"], 
      RowBox[{"grav", ".", 
       RowBox[{"PosCOM", "[", "foot1", "]"}]}], ")"}]}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"springE", " ", "=", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"1", "/", "2"}], " ", "kswing", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"q", "[", "4", "]"}], " ", "-", " ", "swingl"}], ")"}], "^", 
       "2"}]}], " ", "+", " ", 
     RowBox[{
      RowBox[{"1", "/", "2"}], "khip", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"stanceangle", "-", 
         RowBox[{"q", "[", "3", "]"}], "-", "hipl"}], ")"}], "^", "2"}]}]}]}],
    ";"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"PE", " ", "=", " ", 
    RowBox[{
     RowBox[{"gravE", " ", "+", " ", "springE"}], " ", "//", " ", 
     "Simplify"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"KE", " ", "=", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"1", "/", "2"}], 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Mass", "[", "pelvis", "]"}], " ", 
          RowBox[{
           RowBox[{"VelCOM", "[", "pelvis", "]"}], ".", 
           RowBox[{"VelCOM", "[", "pelvis", "]"}]}]}], " ", "+", " ", 
         RowBox[{
          RowBox[{"Mass", "[", "foot1", "]"}], " ", 
          RowBox[{
           RowBox[{"VelCOM", "[", "foot1", "]"}], ".", 
           RowBox[{"VelCOM", "[", "foot1", "]"}]}]}], "+", 
         RowBox[{
          RowBox[{"Mass", "[", "foot2", "]"}], " ", 
          RowBox[{
           RowBox[{"VelCOM", "[", "foot2", "]"}], ".", 
           RowBox[{"VelCOM", "[", "foot2", "]"}]}]}]}], " ", ")"}]}], " ", "//",
       " ", "Simplify"}]}], ";"}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"KE", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], 
     RowBox[{"(", " ", 
      RowBox[{
       RowBox[{"VelCOM", "[", "foot1", "]"}], ".", 
       RowBox[{"VelCOM", "[", "foot1", "]"}]}], ")"}]}], "//", " ", 
    "Simplify"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.638543561019*^9, 3.638543630803*^9}, {3.63854399366*^9, 
   3.638544003417*^9}, {3.6387164780095*^9, 3.6387164988385*^9}, 
   3.6387168488905*^9, {3.6403526064969997`*^9, 3.640352607869*^9}, {
   3.640362129115*^9, 3.640362133675*^9}, {3.6403621928859997`*^9, 
   3.640362249788*^9}}],

Cell[BoxData["Energy"], "Output",
 CellChangeTimes->{
  3.638544651414*^9, 3.6385482050880003`*^9, 3.6385486939639997`*^9, 
   3.6385490644969997`*^9, 3.6387152317625*^9, 3.6387152786975*^9, 
   3.6387153233005*^9, {3.6387159283005*^9, 3.6387159390385*^9}, 
   3.6387159707525*^9, 3.6387160561355*^9, 3.6387161378754997`*^9, 
   3.6387165497655*^9, 3.6387168515305*^9, 3.638808073001*^9, 
   3.638808125072*^9, {3.6400158822980003`*^9, 3.640015910416*^9}, 
   3.640352722693*^9, 3.640353858123*^9, 3.6403539341540003`*^9, 
   3.640354247186*^9, 3.640356147133*^9, 3.640356447631*^9, 3.640356696047*^9,
    3.640356747032*^9, {3.640357824782*^9, 3.640357840093*^9}, 
   3.640361173578*^9, 3.640362262816*^9, 3.6403664360810003`*^9, 
   3.640366541664*^9, 3.640367421112*^9, 3.640447631262*^9, 3.64044787373*^9, 
   3.6404485575290003`*^9, 3.640448989369*^9, 3.640449049983*^9, 
   3.640449154691*^9, 3.640449248947*^9, 3.6404493009700003`*^9, 
   3.640449339252*^9, 3.640449975939*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"velfoot", " ", "=", 
     RowBox[{
      RowBox[{"VelCOM", "[", "foot1", "]"}], " ", "//", " ", "Simplify"}]}], 
    ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"footconstrainty", " ", "=", " ", 
     RowBox[{
      RowBox[{"velfoot", ".", " ", 
       RowBox[{"ground", "[", "2", "]"}]}], " ", "\[Equal]", " ", "0"}]}], 
    " ", ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"definitionsOfQDots", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"q", "[", "1", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
        RowBox[{"u", "[", "1", "]"}]}], ",", " ", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"q", "[", "2", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
        RowBox[{"u", "[", "2", "]"}]}], " ", ",", " ", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"q", "[", "3", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
        RowBox[{"u", "[", "3", "]"}]}], ",", " ", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"q", "[", "4", "]"}], ",", " ", "t"}], "]"}], "->", " ", 
        RowBox[{"u", "[", "4", "]"}]}]}], "}"}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"allVelocityVariables", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"u", "[", "1", "]"}], ",", 
       RowBox[{"u", "[", "2", "]"}], ",", 
       RowBox[{"u", "[", "3", "]"}], ",", 
       RowBox[{"u", "[", "4", "]"}]}], "}"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{"constraintJacobianStance", " ", "=", " ", 
    RowBox[{"LinearTerms", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"footconstrainty", "[", 
        RowBox[{"[", "1", "]"}], "]"}], "}"}], ",", "allVelocityVariables"}], 
     "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"constraintJacobianStanceDot", " ", "=", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{"constraintJacobianStance", ",", " ", "t"}], "]"}], " ", "//.",
       " ", "definitionsOfQDots"}]}], ";"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"CJ", " ", "=", " ", "constraintJacobianStance"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{
     RowBox[{"CJ", "[", 
      RowBox[{"[", 
       RowBox[{"1", ",", "2"}], "]"}], "]"}], "=", "0"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"CJ", ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"bigM", " ", "=", " ", 
     RowBox[{"Join", "[", 
      RowBox[{
       RowBox[{"Join", "[", 
        RowBox[{"MMfoot", ",", 
         RowBox[{"-", 
          RowBox[{"Transpose", "[", 
           RowBox[{"{", 
            RowBox[{"CJ", "[", 
             RowBox[{"[", 
              RowBox[{"1", ",", 
               RowBox[{"3", " ", ";;", "4"}]}], "]"}], "]"}], "}"}], "]"}]}], 
         ",", "2"}], "]"}], ",", 
       RowBox[{"Join", "[", 
        RowBox[{"CJ", ",", 
         RowBox[{"ConstantArray", "[", 
          RowBox[{"0", ",", 
           RowBox[{"{", 
            RowBox[{"1", ",", "1"}], "}"}]}], "]"}], ",", "2"}], "]"}], ",", 
       "1"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"bigRHS", " ", "=", " ", 
     RowBox[{
      RowBox[{"Join", "[", 
       RowBox[{"rhsfoot", ",", 
        RowBox[{"-", 
         RowBox[{
         "constraintJacobianStanceDot", ".", "allVelocityVariables"}]}], ",", 
        "1"}], "]"}], " ", "//.", 
      RowBox[{"{", 
       RowBox[{"gslope", "\[Rule]", "0"}], "}"}]}]}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{"MatrixForm", "[", "bigM", "]"}], "\[IndentingNewLine]", 
   "\[IndentingNewLine]", 
   RowBox[{"accsToe", "=", 
    RowBox[{
     RowBox[{
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"bigM", ".", 
          RowBox[{"{", 
           RowBox[{
           "xpacc", ",", "ypacc", ",", "thetaacc", ",", "racc", ",", 
            "lambda"}], "}"}]}], "\[Equal]", " ", "bigRHS"}], ",", 
        RowBox[{"{", 
         RowBox[{"thetaacc", ",", "racc", ",", "lambda"}], "}"}]}], "]"}], 
      " ", "//.", " ", 
      RowBox[{"{", 
       RowBox[{"gslope", "\[Rule]", "0"}], "}"}]}], " ", "//", " ", 
     "Simplify"}]}], "\[IndentingNewLine]", 
   RowBox[{"A2", "=", " ", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"thetaacc", ",", "racc", ",", "lambda"}], "}"}], " ", "//.", 
     " ", "accsToe"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
   RowBox[{"(*", 
    RowBox[{
     RowBox[{"ML", " ", "=", " ", 
      RowBox[{"bigM", "[", 
       RowBox[{"[", 
        RowBox[{
         RowBox[{"1", ";;", "3"}], ",", 
         RowBox[{"1", ";;", "2"}]}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bigM", "=", " ", 
      RowBox[{"bigM", "[", 
       RowBox[{"[", 
        RowBox[{
         RowBox[{"1", ";;", "3"}], ",", 
         RowBox[{"3", " ", ";;", "5"}]}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"MatrixForm", "[", 
       RowBox[{"ML", ".", 
        RowBox[{"{", 
         RowBox[{"xpacc", ",", "ypacc"}], "}"}]}], "]"}], 
      "\[IndentingNewLine]", 
      RowBox[{"MatrixForm", "[", "bigM", "]"}], "\[IndentingNewLine]", 
      RowBox[{"MatrixForm", "[", "bigRHS", "]"}]}]}], "*)"}], 
   "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.638543653901*^9, 3.638543738993*^9}, {3.638544087907*^9,
    3.638544096821*^9}, {3.638724992935*^9, 3.638724999889*^9}, 
   3.638725054184*^9, {3.63872516891*^9, 3.638725257726*^9}, {
   3.638725310005*^9, 3.638725337455*^9}, {3.6387257901289997`*^9, 
   3.638725796113*^9}, {3.6388080449519997`*^9, 3.638808059216*^9}, {
   3.638808105137*^9, 3.638808107887*^9}, 3.6388083748059998`*^9, 
   3.6388091443310003`*^9, {3.638812039756*^9, 3.638812049251*^9}, {
   3.638812182376*^9, 3.638812247311*^9}, {3.638812329637*^9, 
   3.638812331854*^9}, {3.638889502303*^9, 3.6388895085439997`*^9}, {
   3.640351565855*^9, 3.640351732776*^9}, {3.640351766932*^9, 
   3.640351931342*^9}, {3.640352624052*^9, 3.640352624571*^9}, {
   3.6403542383129997`*^9, 3.640354241488*^9}, 3.640356107362*^9, {
   3.640366373439*^9, 3.6403664000550003`*^9}, {3.640366663087*^9, 
   3.640366675606*^9}, {3.6403667128*^9, 3.640366766967*^9}, {
   3.640366935135*^9, 3.6403669509709997`*^9}, {3.640367010203*^9, 
   3.640367014947*^9}, {3.640367049262*^9, 3.6403671449560003`*^9}, {
   3.640367193734*^9, 3.640367399539*^9}, {3.6404474672860003`*^9, 
   3.64044754509*^9}, {3.640447585851*^9, 3.6404476279849997`*^9}, 
   3.640447718461*^9, {3.6404478662720003`*^9, 3.640447889679*^9}, {
   3.640448056691*^9, 3.6404480605690002`*^9}, {3.6404480946359997`*^9, 
   3.640448130192*^9}, {3.640448539802*^9, 3.64044855041*^9}, {
   3.640448812249*^9, 3.640448957209*^9}, 3.6404490064630003`*^9, {
   3.640449287835*^9, 3.6404492882200003`*^9}, 3.640449334355*^9, {
   3.640449933256*^9, 3.64044997229*^9}, 3.640450031157*^9, 3.640450202473*^9}
  ],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{"0", ",", "1", ",", 
    RowBox[{
     RowBox[{"Cos", "[", 
      SubscriptBox["q", "3"], "]"}], " ", 
     SubscriptBox["q", "4"]}], ",", 
    RowBox[{"Sin", "[", 
     SubscriptBox["q", "3"], "]"}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6404489022320004`*^9, 3.6404489581809998`*^9, {3.640448989406*^9, 
   3.64044900677*^9}, 3.640449050035*^9, 3.6404491549960003`*^9, 
   3.6404492489849997`*^9, 3.6404493010179996`*^9, 3.6404493393050003`*^9, {
   3.6404499478529997`*^9, 3.640449975987*^9}}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}]}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      SubsuperscriptBox["q", "4", "2"], "0", 
      RowBox[{
       RowBox[{"-", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "3"], "]"}]}], " ", 
       SubscriptBox["q", "4"]}]},
     {
      RowBox[{"Cos", "[", 
       SubscriptBox["q", "3"], "]"}], 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "3"], "]"}], "0", "1", 
      RowBox[{"-", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}]}]},
     {"0", "0", 
      RowBox[{
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "4"]}], 
      RowBox[{"Sin", "[", 
       SubscriptBox["q", "3"], "]"}], "0"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6404489022320004`*^9, 3.6404489581809998`*^9, {3.640448989406*^9, 
   3.64044900677*^9}, 3.640449050035*^9, 3.6404491549960003`*^9, 
   3.6404492489849997`*^9, 3.6404493010179996`*^9, 3.6404493393050003`*^9, {
   3.6404499478529997`*^9, 3.640449976024*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"thetaacc", "\[Rule]", 
     FractionBox[
      RowBox[{
       RowBox[{"2", " ", "khip", " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}], " ", 
        SuperscriptBox[
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], "2"]}], "-", 
       RowBox[{"2", " ", "khip", " ", 
        SuperscriptBox[
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], "2"], " ", 
        SubscriptBox["q", "3"]}], "+", 
       RowBox[{"kswing", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"2", " ", 
          SubscriptBox["q", "3"]}], "]"}], " ", 
        SubsuperscriptBox["q", "4", "2"]}], "-", 
       RowBox[{
        SubscriptBox["q", "4"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", "xpacc", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], "+", 
          RowBox[{"kswing", " ", "swingl", " ", 
           RowBox[{"Sin", "[", 
            RowBox[{"2", " ", 
             SubscriptBox["q", "3"]}], "]"}]}], "+", 
          RowBox[{"4", " ", 
           SubscriptBox["u", "3"], " ", 
           SubscriptBox["u", "4"]}]}], ")"}]}]}], 
      RowBox[{"2", " ", 
       SubsuperscriptBox["q", "4", "2"]}]]}], ",", 
    RowBox[{"racc", "\[Rule]", 
     FractionBox[
      RowBox[{
       RowBox[{"khip", " ", 
        RowBox[{"(", 
         RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"2", " ", 
          SubscriptBox["q", "3"]}], "]"}]}], "+", 
       RowBox[{"khip", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"2", " ", 
          SubscriptBox["q", "3"]}], "]"}], " ", 
        SubscriptBox["q", "3"]}], "-", 
       RowBox[{"2", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "3"], "]"}], " ", 
        RowBox[{"(", 
         RowBox[{"xpacc", "-", 
          RowBox[{"kswing", " ", "swingl", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
        SubscriptBox["q", "4"]}], "+", 
       RowBox[{
        SubsuperscriptBox["q", "4", "2"], " ", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], " ", "kswing", " ", 
           SuperscriptBox[
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "3"], "]"}], "2"]}], "+", 
          RowBox[{"2", " ", 
           SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}], 
      RowBox[{"2", " ", 
       SubscriptBox["q", "4"]}]]}], ",", 
    RowBox[{"lambda", "\[Rule]", 
     FractionBox[
      RowBox[{
       RowBox[{"khip", " ", 
        RowBox[{"(", 
         RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "3"], "]"}]}], "+", 
       RowBox[{"khip", " ", 
        RowBox[{"Cos", "[", 
         SubscriptBox["q", "3"], "]"}], " ", 
        SubscriptBox["q", "3"]}], "+", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"g", "+", "ypacc", "-", 
          RowBox[{"kswing", " ", "swingl", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
        SubscriptBox["q", "4"]}], "+", 
       RowBox[{"kswing", " ", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}], " ", 
        SubsuperscriptBox["q", "4", "2"]}]}], 
      SubscriptBox["q", "4"]]}]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6404489022320004`*^9, 3.6404489581809998`*^9, {3.640448989406*^9, 
   3.64044900677*^9}, 3.640449050035*^9, 3.6404491549960003`*^9, 
   3.6404492489849997`*^9, 3.6404493010179996`*^9, 3.6404493393050003`*^9, {
   3.6404499478529997`*^9, 3.640449976928*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"{", 
   RowBox[{
    FractionBox[
     RowBox[{
      RowBox[{"2", " ", "khip", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}], " ", 
       SuperscriptBox[
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}], "2"]}], "-", 
      RowBox[{"2", " ", "khip", " ", 
       SuperscriptBox[
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}], "2"], " ", 
       SubscriptBox["q", "3"]}], "+", 
      RowBox[{"kswing", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"2", " ", 
         SubscriptBox["q", "3"]}], "]"}], " ", 
       SubsuperscriptBox["q", "4", "2"]}], "-", 
      RowBox[{
       SubscriptBox["q", "4"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], " ", "xpacc", " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "3"], "]"}]}], "+", 
         RowBox[{"kswing", " ", "swingl", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{"2", " ", 
            SubscriptBox["q", "3"]}], "]"}]}], "+", 
         RowBox[{"4", " ", 
          SubscriptBox["u", "3"], " ", 
          SubscriptBox["u", "4"]}]}], ")"}]}]}], 
     RowBox[{"2", " ", 
      SubsuperscriptBox["q", "4", "2"]}]], ",", 
    FractionBox[
     RowBox[{
      RowBox[{"khip", " ", 
       RowBox[{"(", 
        RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"2", " ", 
         SubscriptBox["q", "3"]}], "]"}]}], "+", 
      RowBox[{"khip", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"2", " ", 
         SubscriptBox["q", "3"]}], "]"}], " ", 
       SubscriptBox["q", "3"]}], "-", 
      RowBox[{"2", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       RowBox[{"(", 
        RowBox[{"xpacc", "-", 
         RowBox[{"kswing", " ", "swingl", " ", 
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
       SubscriptBox["q", "4"]}], "+", 
      RowBox[{
       SubsuperscriptBox["q", "4", "2"], " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"-", "2"}], " ", "kswing", " ", 
          SuperscriptBox[
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}], "2"]}], "+", 
         RowBox[{"2", " ", 
          SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}], 
     RowBox[{"2", " ", 
      SubscriptBox["q", "4"]}]], ",", 
    FractionBox[
     RowBox[{
      RowBox[{"khip", " ", 
       RowBox[{"(", 
        RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}]}], "+", 
      RowBox[{"khip", " ", 
       RowBox[{"Cos", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubscriptBox["q", "3"]}], "+", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"g", "+", "ypacc", "-", 
         RowBox[{"kswing", " ", "swingl", " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
       SubscriptBox["q", "4"]}], "+", 
      RowBox[{"kswing", " ", 
       RowBox[{"Sin", "[", 
        SubscriptBox["q", "3"], "]"}], " ", 
       SubsuperscriptBox["q", "4", "2"]}]}], 
     SubscriptBox["q", "4"]]}], "}"}], "}"}]], "Output",
 CellChangeTimes->{
  3.6404489022320004`*^9, 3.6404489581809998`*^9, {3.640448989406*^9, 
   3.64044900677*^9}, 3.640449050035*^9, 3.6404491549960003`*^9, 
   3.6404492489849997`*^9, 3.6404493010179996`*^9, 3.6404493393050003`*^9, {
   3.6404499478529997`*^9, 3.640449976967*^9}}]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.640356115167*^9, 3.6403561151870003`*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.640356114255*^9, 3.64035611429*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.6403561131029997`*^9, 3.6403561131280003`*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.6403561116470003`*^9, 3.640356111678*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.640356110311*^9, 3.64035611035*^9}}],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.640356104335*^9, 3.640356108848*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  StyleBox[
   RowBox[{
   "Velocities", " ", "Points", " ", "And", " ", "Other", " ", "Things"}], 
   "Subtitle"], "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"totalMass", " ", "=", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"Mass", "[", "pelvis", "]"}], " ", "+", " ", 
       RowBox[{"Mass", "[", "foot1", "]"}], " ", "+", " ", 
       RowBox[{"Mass", "[", "foot2", "]"}]}], ")"}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"totalMass", " ", "=", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"Mass", "[", "pelvis", "]"}], " ", "+", " ", 
      RowBox[{"Mass", "[", "foot1", "]"}]}], ")"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{"stancefootpos", " ", "=", " ", 
  RowBox[{"PosCOM", "[", "foot1", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pelvpos", " ", "=", " ", 
   RowBox[{"PosCOM", "[", "pelvis", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"stancefootvel", "=", " ", 
   RowBox[{"VelCOM", "[", "foot1", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pelvvel", "=", " ", 
    RowBox[{"VelCOM", "[", "pelvis", "]"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"COMpos", "  ", "=", " ", 
     RowBox[{"PosCOM", "[", 
      RowBox[{"{", 
       RowBox[{"pelvis", ",", "foot1", ",", "foot2"}], "}"}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"COMvel", " ", "=", " ", 
     RowBox[{"VelCOM", "[", 
      RowBox[{"{", 
       RowBox[{"pelvis", ",", "foot1", ",", "foot2"}], "}"}], "]"}]}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMpos", "  ", "=", " ", 
   RowBox[{"PosCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"COMvel", " ", "=", " ", 
   RowBox[{"VelCOM", "[", 
    RowBox[{"{", "pelvis", "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.6385441624230003`*^9, 3.638544302492*^9}, {
  3.6385445079110003`*^9, 3.6385445722060003`*^9}, {3.6387165056925*^9, 
  3.6387165383075*^9}, {3.640015860708*^9, 3.640015878236*^9}, {
  3.6400159274370003`*^9, 3.6400159703719997`*^9}, {3.6400160755559998`*^9, 
  3.6400160939119997`*^9}, {3.640016162336*^9, 3.64001621762*^9}, {
  3.6400164799560003`*^9, 3.6400164985629997`*^9}, {3.6400165599630003`*^9, 
  3.640016584576*^9}, {3.6400166814189997`*^9, 3.6400166852860003`*^9}, {
  3.640016785951*^9, 3.640016793017*^9}, {3.64002301174*^9, 
  3.640023014582*^9}, {3.6403526304969997`*^9, 3.640352630976*^9}, {
  3.640352713717*^9, 3.6403527170480003`*^9}, {3.640353865873*^9, 
  3.640353881648*^9}}],

Cell[BoxData[
 RowBox[{"And", " ", "Other", " ", "Points", " ", "Things", " ", 
  "Velocities"}]], "Output",
 CellChangeTimes->{
  3.638544652144*^9, 3.638548205118*^9, 3.6385486940039997`*^9, 
   3.6385490645369997`*^9, 3.6387152325474997`*^9, 3.6387152787675*^9, 
   3.6387153233785*^9, {3.6387159283745003`*^9, 3.6387159391145*^9}, 
   3.6387159708295*^9, 3.6387160562125*^9, 3.6387161379565*^9, 
   3.6387165501064997`*^9, 3.6387168516005*^9, 3.638808073061*^9, 
   3.638808125172*^9, {3.640015864527*^9, 3.640015910652*^9}, 
   3.640015947358*^9, 3.640016094933*^9, {3.640016193156*^9, 
   3.640016218229*^9}, 3.6400164840699997`*^9, 3.640016585531*^9, 
   3.640016685551*^9, 3.640016794558*^9, 3.640023014975*^9, 
   3.640352722818*^9, {3.640353858285*^9, 3.640353882744*^9}, 
   3.640353934267*^9, 3.640354247276*^9, 3.64035614719*^9, 
   3.6403564477130003`*^9, 3.640356696131*^9, 3.6403567471*^9, {
   3.640357824841*^9, 3.6403578401610003`*^9}, 3.640361173658*^9, 
   3.640362263032*^9, 3.640366436342*^9, 3.640366542058*^9, 3.640367421234*^9,
    3.6404476314440002`*^9, 3.6404478739379997`*^9, 3.6404485576689997`*^9, 
   3.640448989528*^9, 3.640449050256*^9, 3.6404491573719997`*^9, 
   3.640449249238*^9, 3.640449301248*^9, 3.64044934029*^9, 
   3.6404499771429996`*^9}],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    SubscriptBox["q", "1"], " ", 
    SubscriptBox[
     UnderscriptBox["ground", "_"], "1"]}],
   HoldForm], "+", 
  TagBox[
   RowBox[{
    SubscriptBox["q", "2"], " ", 
    SubscriptBox[
     UnderscriptBox["ground", "_"], "2"]}],
   HoldForm], "+", 
  TagBox[
   RowBox[{
    SubscriptBox["q", "4"], " ", 
    SubscriptBox[
     UnderscriptBox["leghinge1", "_"], "1"]}],
   HoldForm]}]], "Output",
 CellChangeTimes->{
  3.638544652144*^9, 3.638548205118*^9, 3.6385486940039997`*^9, 
   3.6385490645369997`*^9, 3.6387152325474997`*^9, 3.6387152787675*^9, 
   3.6387153233785*^9, {3.6387159283745003`*^9, 3.6387159391145*^9}, 
   3.6387159708295*^9, 3.6387160562125*^9, 3.6387161379565*^9, 
   3.6387165501064997`*^9, 3.6387168516005*^9, 3.638808073061*^9, 
   3.638808125172*^9, {3.640015864527*^9, 3.640015910652*^9}, 
   3.640015947358*^9, 3.640016094933*^9, {3.640016193156*^9, 
   3.640016218229*^9}, 3.6400164840699997`*^9, 3.640016585531*^9, 
   3.640016685551*^9, 3.640016794558*^9, 3.640023014975*^9, 
   3.640352722818*^9, {3.640353858285*^9, 3.640353882744*^9}, 
   3.640353934267*^9, 3.640354247276*^9, 3.64035614719*^9, 
   3.6403564477130003`*^9, 3.640356696131*^9, 3.6403567471*^9, {
   3.640357824841*^9, 3.6403578401610003`*^9}, 3.640361173658*^9, 
   3.640362263032*^9, 3.640366436342*^9, 3.640366542058*^9, 3.640367421234*^9,
    3.6404476314440002`*^9, 3.6404478739379997`*^9, 3.6404485576689997`*^9, 
   3.640448989528*^9, 3.640449050256*^9, 3.6404491573719997`*^9, 
   3.640449249238*^9, 3.640449301248*^9, 3.64044934029*^9, 3.640449977177*^9}],

Cell[BoxData[
 RowBox[{
  TagBox[
   RowBox[{
    SubscriptBox["q", "1"], " ", 
    SubscriptBox[
     UnderscriptBox["ground", "_"], "1"]}],
   HoldForm], "+", 
  TagBox[
   RowBox[{
    SubscriptBox["q", "2"], " ", 
    SubscriptBox[
     UnderscriptBox["ground", "_"], "2"]}],
   HoldForm]}]], "Output",
 CellChangeTimes->{
  3.638544652144*^9, 3.638548205118*^9, 3.6385486940039997`*^9, 
   3.6385490645369997`*^9, 3.6387152325474997`*^9, 3.6387152787675*^9, 
   3.6387153233785*^9, {3.6387159283745003`*^9, 3.6387159391145*^9}, 
   3.6387159708295*^9, 3.6387160562125*^9, 3.6387161379565*^9, 
   3.6387165501064997`*^9, 3.6387168516005*^9, 3.638808073061*^9, 
   3.638808125172*^9, {3.640015864527*^9, 3.640015910652*^9}, 
   3.640015947358*^9, 3.640016094933*^9, {3.640016193156*^9, 
   3.640016218229*^9}, 3.6400164840699997`*^9, 3.640016585531*^9, 
   3.640016685551*^9, 3.640016794558*^9, 3.640023014975*^9, 
   3.640352722818*^9, {3.640353858285*^9, 3.640353882744*^9}, 
   3.640353934267*^9, 3.640354247276*^9, 3.64035614719*^9, 
   3.6403564477130003`*^9, 3.640356696131*^9, 3.6403567471*^9, {
   3.640357824841*^9, 3.6403578401610003`*^9}, 3.640361173658*^9, 
   3.640362263032*^9, 3.640366436342*^9, 3.640366542058*^9, 3.640367421234*^9,
    3.6404476314440002`*^9, 3.6404478739379997`*^9, 3.6404485576689997`*^9, 
   3.640448989528*^9, 3.640449050256*^9, 3.6404491573719997`*^9, 
   3.640449249238*^9, 3.640449301248*^9, 3.64044934029*^9, 
   3.6404499771809998`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 StyleBox[
  RowBox[{"Export", "\[IndentingNewLine]"}], 
  "Subtitle"], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"inGroundFrame2D", "[", "v_", "]"}], " ", ":=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"v", ".", 
       RowBox[{"ground", "[", "1", "]"}]}], ",", " ", 
      RowBox[{"v", ".", 
       RowBox[{"ground", "[", "2", "]"}]}]}], "}"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expressionsToExport", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "constraintJacobianStance", ",", "\"\<constraintJacobianStance\>\""}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "constraintJacobianStanceDot", ",", 
       "\"\<constraintJacobianStanceDot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"KE", ",", "\"\<kineticEnergy\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"PE", ",", "\"\<potentialEnergy\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"gravE", ",", "\"\<PEgrav\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"springE", ",", "\"\<PEspring\>\""}], "}"}], ",", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "stancefootpos", "]"}], ",", 
       "\"\<points.swingfoot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "pelvpos", "]"}], ",", 
       "\"\<points.pelvis\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "COMpos", "]"}], ",", 
       "\"\<points.COM\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "stancefootvel", "]"}], ",", 
       "\"\<vels.swingfoot\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "pelvvel", "]"}], ",", 
       "\"\<vels.pelvis\>\""}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"inGroundFrame2D", "[", "COMvel", "]"}], ",", 
       "\"\<vels.COM\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"A", ",", "\"\<accs\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"MMfoot", ",", "\"\<MM\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"rhsfoot", ",", "\"\<rhs\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"constraintJacobianStance", " ", ",", "\"\<C\>\""}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"constraintJacobianStanceDot", ",", "\"\<CDot\>\""}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"A2", ",", "\"\<accsandconstraints\>\""}], "}"}]}], "}"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  StyleBox["ExportCode", "Input"], 
  StyleBox["[", "Input"], 
  RowBox[{
   StyleBox[
    RowBox[{"{", 
     RowBox[{"MM", ",", "rhs"}], "}"}], "Input"], ",", 
   RowBox[{"Expressions", "\[Rule]", "expressionsToExport"}], ",", 
   RowBox[{
    StyleBox["OutputFile", "Input"], 
    StyleBox["\[Rule]", "Input"], "savename"}]}], "]"}]}], "Input",
 CellChangeTimes->{{3.638544320054*^9, 3.638544478205*^9}, {3.638544579977*^9,
    3.63854462967*^9}, {3.640352702866*^9, 3.640352706888*^9}, {
   3.640353958925*^9, 3.6403539888380003`*^9}, {3.64035643135*^9, 
   3.640356444342*^9}, 3.6403566938710003`*^9, {3.640361165271*^9, 
   3.640361170873*^9}, {3.640366337907*^9, 3.640366356698*^9}, {
   3.640366412347*^9, 3.640366432875*^9}, {3.640366513459*^9, 
   3.640366516514*^9}, {3.6403674037349997`*^9, 3.6403674178710003`*^9}, {
   3.640448977884*^9, 3.640448986082*^9}, {3.640449297924*^9, 
   3.640449298176*^9}}],

Cell[BoxData["Export"], "Output",
 CellChangeTimes->{
  3.638544652224*^9, 3.638548205138*^9, 3.638548694024*^9, 3.638549064557*^9, 
   3.6387152327205*^9, 3.6387152788045*^9, 3.6387153234175*^9, {
   3.6387159284125*^9, 3.6387159391545*^9}, 3.6387159709685*^9, 
   3.6387160562465*^9, 3.6387161380004997`*^9, 3.6387165501455*^9, 
   3.6387168516435003`*^9, 3.638808073091*^9, 3.6388081252019997`*^9, {
   3.640015882834*^9, 3.640015910699*^9}, 3.640352722859*^9, 
   3.640353858389*^9, {3.6403539343059998`*^9, 3.6403539592790003`*^9}, 
   3.640353989476*^9, 3.640354247316*^9, 3.640356147223*^9, 
   3.6403564477530003`*^9, 3.640356696172*^9, 3.6403567471359997`*^9, {
   3.640357824876*^9, 3.640357840199*^9}, 3.6403611736940002`*^9, 
   3.640362263068*^9, 3.6403664363859997`*^9, 3.6403665422349997`*^9, 
   3.640367421275*^9, 3.640447631543*^9, 3.640447873993*^9, 
   3.6404485577130003`*^9, 3.640448989593*^9, 3.640449050343*^9, 
   3.640449157493*^9, 3.640449249337*^9, 3.640449301336*^9, 3.640449340368*^9,
    3.6404499772720003`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1", ",", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}], ",", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}]}], "}"}], "}"}], 
     ",", "\<\"constraintJacobianStance\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        RowBox[{
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], " ", 
          SubscriptBox["q", "4"], " ", 
          SubscriptBox["u", "3"]}], "+", 
         RowBox[{
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}], " ", 
          SubscriptBox["u", "4"]}]}], ",", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}]}], "}"}], "}"}], 
     ",", "\<\"constraintJacobianStanceDot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        SubsuperscriptBox["u", "1", "2"], "+", 
        SubsuperscriptBox["u", "2", "2"], "+", 
        RowBox[{
         SubsuperscriptBox["q", "4", "2"], " ", 
         SubsuperscriptBox["u", "3", "2"]}], "+", 
        SubsuperscriptBox["u", "4", "2"], "+", 
        RowBox[{
         SubscriptBox["u", "1"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], " ", 
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["q", "4"], " ", 
            SubscriptBox["u", "3"]}], "+", 
           RowBox[{"2", " ", 
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}], "+", 
        RowBox[{"2", " ", 
         SubscriptBox["u", "2"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"Cos", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["q", "4"], " ", 
            SubscriptBox["u", "3"]}], "+", 
           RowBox[{
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}]}], ")"}]}], 
     ",", "\<\"kineticEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      FractionBox["1", "2"], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", "g", " ", 
         RowBox[{"Sin", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "1"]}], "+", 
        RowBox[{"2", " ", "g", " ", 
         RowBox[{"Cos", "[", "gslope", "]"}], " ", 
         SubscriptBox["q", "2"]}], "+", 
        RowBox[{"khip", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"hipl", "-", "stanceangle", "+", 
            SubscriptBox["q", "3"]}], ")"}], "2"]}], "+", 
        RowBox[{"kswing", " ", 
         SuperscriptBox[
          RowBox[{"(", 
           RowBox[{"swingl", "-", 
            SubscriptBox["q", "4"]}], ")"}], "2"]}], "-", 
        RowBox[{"2", " ", "g", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}], " ", 
         SubscriptBox["q", "4"]}]}], ")"}]}], 
     ",", "\<\"potentialEnergy\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{"-", "g"}], " ", 
       RowBox[{"Sin", "[", "gslope", "]"}], " ", 
       SubscriptBox["q", "1"]}], "+", 
      RowBox[{"g", " ", 
       RowBox[{"Cos", "[", "gslope", "]"}], " ", 
       SubscriptBox["q", "2"]}], "-", 
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"gslope", "-", 
         SubscriptBox["q", "3"]}], "]"}], " ", 
       SubscriptBox["q", "4"]}]}], ",", "\<\"PEgrav\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       FractionBox["1", "2"], " ", "khip", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "hipl"}], "+", "stanceangle", "-", 
          SubscriptBox["q", "3"]}], ")"}], "2"]}], "+", 
      RowBox[{
       FractionBox["1", "2"], " ", "kswing", " ", 
       SuperscriptBox[
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "swingl"}], "+", 
          SubscriptBox["q", "4"]}], ")"}], "2"]}]}], 
     ",", "\<\"PEspring\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["q", "1"], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}]}], ",", 
       RowBox[{
        SubscriptBox["q", "2"], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}]}]}], "}"}], 
     ",", "\<\"points.swingfoot\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.pelvis\"\>"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["q", "1"], ",", 
       SubscriptBox["q", "2"]}], "}"}], ",", "\<\"points.COM\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["u", "1"], "-", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubscriptBox["u", "3"]}], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}], ",", 
       RowBox[{
        SubscriptBox["u", "2"], "+", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"], " ", 
         SubscriptBox["u", "3"]}], "+", 
        RowBox[{
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "4"]}]}]}], "}"}], ",", "\<\"vels.swingfoot\"\>"}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.pelvis\"\>"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       SubscriptBox["u", "1"], ",", 
       SubscriptBox["u", "2"]}], "}"}], ",", "\<\"vels.COM\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
        FractionBox[
         RowBox[{
          RowBox[{"khip", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}]}], "-", 
          RowBox[{"khip", " ", 
           SubscriptBox["q", "3"]}], "-", 
          RowBox[{
           SubscriptBox["q", "4"], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"(", 
               RowBox[{"g", "+", "ypacc"}], ")"}], " ", 
              RowBox[{"Cos", "[", 
               SubscriptBox["q", "3"], "]"}]}], "-", 
             RowBox[{"xpacc", " ", 
              RowBox[{"Sin", "[", 
               SubscriptBox["q", "3"], "]"}]}], "+", 
             RowBox[{"2", " ", 
              SubscriptBox["u", "3"], " ", 
              SubscriptBox["u", "4"]}]}], ")"}]}]}], 
         SubsuperscriptBox["q", "4", "2"]], ",", 
        RowBox[{
         RowBox[{"kswing", " ", "swingl"}], "-", 
         RowBox[{"xpacc", " ", 
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}]}], "-", 
         RowBox[{"g", " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "3"], "]"}]}], "-", 
         RowBox[{"ypacc", " ", 
          RowBox[{"Sin", "[", 
           SubscriptBox["q", "3"], "]"}]}], "+", 
         RowBox[{
          SubscriptBox["q", "4"], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"-", "kswing"}], "+", 
            SubsuperscriptBox["u", "3", "2"]}], ")"}]}]}]}], "}"}], "}"}], 
     ",", "\<\"accs\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], " ", 
          SubscriptBox["q", "4"]}], ",", 
         RowBox[{
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}], " ", 
          SubscriptBox["q", "4"]}], ",", 
         SubsuperscriptBox["q", "4", "2"], ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], ",", 
         RowBox[{"Sin", "[", 
          SubscriptBox["q", "3"], "]"}], ",", "0", ",", "1"}], "}"}]}], "}"}],
      ",", "\<\"MM\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"khip", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}]}], "-", 
        RowBox[{"khip", " ", 
         SubscriptBox["q", "3"]}], "-", 
        RowBox[{
         SubscriptBox["q", "4"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"g", " ", 
            RowBox[{"Cos", "[", 
             RowBox[{"gslope", "-", 
              SubscriptBox["q", "3"]}], "]"}]}], "+", 
           RowBox[{"2", " ", 
            SubscriptBox["u", "3"], " ", 
            SubscriptBox["u", "4"]}]}], ")"}]}]}], ",", 
       RowBox[{
        RowBox[{"kswing", " ", "swingl"}], "+", 
        RowBox[{"g", " ", 
         RowBox[{"Sin", "[", 
          RowBox[{"gslope", "-", 
           SubscriptBox["q", "3"]}], "]"}]}], "+", 
        RowBox[{
         SubscriptBox["q", "4"], " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "kswing"}], "+", 
           SubsuperscriptBox["u", "3", "2"]}], ")"}]}]}]}], "}"}], 
     ",", "\<\"rhs\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "1", ",", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["q", "4"]}], ",", 
        RowBox[{"Sin", "[", 
         SubscriptBox["q", "3"], "]"}]}], "}"}], "}"}], ",", "\<\"C\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", 
        RowBox[{
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}]}], " ", 
          SubscriptBox["q", "4"], " ", 
          SubscriptBox["u", "3"]}], "+", 
         RowBox[{
          RowBox[{"Cos", "[", 
           SubscriptBox["q", "3"], "]"}], " ", 
          SubscriptBox["u", "4"]}]}], ",", 
        RowBox[{
         RowBox[{"Cos", "[", 
          SubscriptBox["q", "3"], "]"}], " ", 
         SubscriptBox["u", "3"]}]}], "}"}], "}"}], ",", "\<\"CDot\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"{", 
       RowBox[{
        FractionBox[
         RowBox[{
          RowBox[{"2", " ", "khip", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"-", "hipl"}], "+", "stanceangle"}], ")"}], " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}], "2"]}], "-", 
          RowBox[{"2", " ", "khip", " ", 
           SuperscriptBox[
            RowBox[{"Sin", "[", 
             SubscriptBox["q", "3"], "]"}], "2"], " ", 
           SubscriptBox["q", "3"]}], "+", 
          RowBox[{"kswing", " ", 
           RowBox[{"Sin", "[", 
            RowBox[{"2", " ", 
             SubscriptBox["q", "3"]}], "]"}], " ", 
           SubsuperscriptBox["q", "4", "2"]}], "-", 
          RowBox[{
           SubscriptBox["q", "4"], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "xpacc", " ", 
              RowBox[{"Sin", "[", 
               SubscriptBox["q", "3"], "]"}]}], "+", 
             RowBox[{"kswing", " ", "swingl", " ", 
              RowBox[{"Sin", "[", 
               RowBox[{"2", " ", 
                SubscriptBox["q", "3"]}], "]"}]}], "+", 
             RowBox[{"4", " ", 
              SubscriptBox["u", "3"], " ", 
              SubscriptBox["u", "4"]}]}], ")"}]}]}], 
         RowBox[{"2", " ", 
          SubsuperscriptBox["q", "4", "2"]}]], ",", 
        FractionBox[
         RowBox[{
          RowBox[{"khip", " ", 
           RowBox[{"(", 
            RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
           RowBox[{"Sin", "[", 
            RowBox[{"2", " ", 
             SubscriptBox["q", "3"]}], "]"}]}], "+", 
          RowBox[{"khip", " ", 
           RowBox[{"Sin", "[", 
            RowBox[{"2", " ", 
             SubscriptBox["q", "3"]}], "]"}], " ", 
           SubscriptBox["q", "3"]}], "-", 
          RowBox[{"2", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}], " ", 
           RowBox[{"(", 
            RowBox[{"xpacc", "-", 
             RowBox[{"kswing", " ", "swingl", " ", 
              RowBox[{"Cos", "[", 
               SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
           SubscriptBox["q", "4"]}], "+", 
          RowBox[{
           SubsuperscriptBox["q", "4", "2"], " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"-", "2"}], " ", "kswing", " ", 
              SuperscriptBox[
               RowBox[{"Cos", "[", 
                SubscriptBox["q", "3"], "]"}], "2"]}], "+", 
             RowBox[{"2", " ", 
              SubsuperscriptBox["u", "3", "2"]}]}], ")"}]}]}], 
         RowBox[{"2", " ", 
          SubscriptBox["q", "4"]}]], ",", 
        FractionBox[
         RowBox[{
          RowBox[{"khip", " ", 
           RowBox[{"(", 
            RowBox[{"hipl", "-", "stanceangle"}], ")"}], " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}]}], "+", 
          RowBox[{"khip", " ", 
           RowBox[{"Cos", "[", 
            SubscriptBox["q", "3"], "]"}], " ", 
           SubscriptBox["q", "3"]}], "+", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{"g", "+", "ypacc", "-", 
             RowBox[{"kswing", " ", "swingl", " ", 
              RowBox[{"Sin", "[", 
               SubscriptBox["q", "3"], "]"}]}]}], ")"}], " ", 
           SubscriptBox["q", "4"]}], "+", 
          RowBox[{"kswing", " ", 
           RowBox[{"Sin", "[", 
            SubscriptBox["q", "3"], "]"}], " ", 
           SubsuperscriptBox["q", "4", "2"]}]}], 
         SubscriptBox["q", "4"]]}], "}"}], "}"}], 
     ",", "\<\"accsandconstraints\"\>"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.638544652224*^9, 3.638548205138*^9, 3.638548694024*^9, 3.638549064557*^9, 
   3.6387152327205*^9, 3.6387152788045*^9, 3.6387153234175*^9, {
   3.6387159284125*^9, 3.6387159391545*^9}, 3.6387159709685*^9, 
   3.6387160562465*^9, 3.6387161380004997`*^9, 3.6387165501455*^9, 
   3.6387168516435003`*^9, 3.638808073091*^9, 3.6388081252019997`*^9, {
   3.640015882834*^9, 3.640015910699*^9}, 3.640352722859*^9, 
   3.640353858389*^9, {3.6403539343059998`*^9, 3.6403539592790003`*^9}, 
   3.640353989476*^9, 3.640354247316*^9, 3.640356147223*^9, 
   3.6403564477530003`*^9, 3.640356696172*^9, 3.6403567471359997`*^9, {
   3.640357824876*^9, 3.640357840199*^9}, 3.6403611736940002`*^9, 
   3.640362263068*^9, 3.6403664363859997`*^9, 3.6403665422349997`*^9, 
   3.640367421275*^9, 3.640447631543*^9, 3.640447873993*^9, 
   3.6404485577130003`*^9, 3.640448989593*^9, 3.640449050343*^9, 
   3.640449157493*^9, 3.640449249337*^9, 3.640449301336*^9, 3.640449340368*^9,
    3.640449977296*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Opening file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL Student\\\\Documents\\\\Ryan\
\\\\Model and \
Structure\\\\dynamicWalking\\\\Branches\\\\riddryan\\\\NewStruct\\\\EOM \
Notebooks\\\\Swing.m\"\>", "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Opening file \"", 
   "C:\\Users\\HBCL Student\\Documents\\Ryan\\Model and \
Structure\\dynamicWalking\\Branches\\riddryan\\NewStruct\\EOM \
Notebooks\\Swing.m", "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.638544652244*^9, 3.638548205158*^9, 3.6385486940439997`*^9, 
   3.6385490645769997`*^9, 3.6387152327675*^9, 3.6387152788465*^9, 
   3.6387153234635*^9, {3.6387159284575*^9, 3.6387159392015*^9}, 
   3.6387159710205*^9, 3.6387160562895*^9, 3.6387161380445004`*^9, 
   3.6387165501545*^9, 3.6387168516815*^9, 3.6388080731210003`*^9, 
   3.638808125242*^9, {3.64001588285*^9, 3.6400159107349997`*^9}, 
   3.640352722866*^9, 3.640353858398*^9, {3.640353934314*^9, 
   3.6403539592869997`*^9}, 3.640353989484*^9, 3.640354247325*^9, 
   3.640356147229*^9, 3.640356447762*^9, 3.6403566961800003`*^9, 
   3.640356747146*^9, {3.640357824892*^9, 3.64035784021*^9}, 
   3.6403611737019997`*^9, 3.64036226308*^9, 3.640366436395*^9, 
   3.64036654225*^9, 3.640367421285*^9, 3.640447631553*^9, 3.64044787402*^9, 
   3.640448557726*^9, 3.640448989699*^9, 3.640449050367*^9, 3.640449157506*^9,
    3.640449249361*^9, 3.640449301407*^9, 3.6404493403970003`*^9, 
   3.640449977335*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Current directory: \"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL Student\\\\Documents\\\\Ryan\
\\\\Model and \
Structure\\\\dynamicWalking\\\\Branches\\\\riddryan\\\\NewStruct\\\\EOM \
Notebooks\"\>"}],
  SequenceForm[
  "Current directory: ", 
   "C:\\Users\\HBCL Student\\Documents\\Ryan\\Model and \
Structure\\dynamicWalking\\Branches\\riddryan\\NewStruct\\EOM Notebooks"],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.638544652244*^9, 3.638548205158*^9, 3.6385486940439997`*^9, 
   3.6385490645769997`*^9, 3.6387152327675*^9, 3.6387152788465*^9, 
   3.6387153234635*^9, {3.6387159284575*^9, 3.6387159392015*^9}, 
   3.6387159710205*^9, 3.6387160562895*^9, 3.6387161380445004`*^9, 
   3.6387165501545*^9, 3.6387168516815*^9, 3.6388080731210003`*^9, 
   3.638808125242*^9, {3.64001588285*^9, 3.6400159107349997`*^9}, 
   3.640352722866*^9, 3.640353858398*^9, {3.640353934314*^9, 
   3.6403539592869997`*^9}, 3.640353989484*^9, 3.640354247325*^9, 
   3.640356147229*^9, 3.640356447762*^9, 3.6403566961800003`*^9, 
   3.640356747146*^9, {3.640357824892*^9, 3.64035784021*^9}, 
   3.6403611737019997`*^9, 3.64036226308*^9, 3.640366436395*^9, 
   3.64036654225*^9, 3.640367421285*^9, 3.640447631553*^9, 3.64044787402*^9, 
   3.640448557726*^9, 3.640448989699*^9, 3.640449050367*^9, 3.640449157506*^9,
    3.640449249361*^9, 3.640449301407*^9, 3.6404493403970003`*^9, 
   3.6404499773389997`*^9}],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Closing file \\\"\"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\Users\\\\HBCL Student\\\\Documents\\\\Ryan\
\\\\Model and \
Structure\\\\dynamicWalking\\\\Branches\\\\riddryan\\\\NewStruct\\\\EOM \
Notebooks\\\\Swing.m\"\>", "\[InvisibleSpace]", "\<\"\\\"\"\>"}],
  SequenceForm[
  "Closing file \"", 
   "C:\\Users\\HBCL Student\\Documents\\Ryan\\Model and \
Structure\\dynamicWalking\\Branches\\riddryan\\NewStruct\\EOM \
Notebooks\\Swing.m", "\""],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.638544652244*^9, 3.638548205158*^9, 3.6385486940439997`*^9, 
   3.6385490645769997`*^9, 3.6387152327675*^9, 3.6387152788465*^9, 
   3.6387153234635*^9, {3.6387159284575*^9, 3.6387159392015*^9}, 
   3.6387159710205*^9, 3.6387160562895*^9, 3.6387161380445004`*^9, 
   3.6387165501545*^9, 3.6387168516815*^9, 3.6388080731210003`*^9, 
   3.638808125242*^9, {3.64001588285*^9, 3.6400159107349997`*^9}, 
   3.640352722866*^9, 3.640353858398*^9, {3.640353934314*^9, 
   3.6403539592869997`*^9}, 3.640353989484*^9, 3.640354247325*^9, 
   3.640356147229*^9, 3.640356447762*^9, 3.6403566961800003`*^9, 
   3.640356747146*^9, {3.640357824892*^9, 3.64035784021*^9}, 
   3.6403611737019997`*^9, 3.64036226308*^9, 3.640366436395*^9, 
   3.64036654225*^9, 3.640367421285*^9, 3.640447631553*^9, 3.64044787402*^9, 
   3.640448557726*^9, 3.640448989699*^9, 3.640449050367*^9, 3.640449157506*^9,
    3.640449249361*^9, 3.640449301407*^9, 3.6404493403970003`*^9, 
   3.6404499774040003`*^9}]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1904, 1113},
WindowMargins->{{Automatic, 73}, {Automatic, 9}},
FrontEndVersion->"9.0 for Microsoft Windows (64-bit) (November 20, 2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 86, 1, 31, "Input"],
Cell[CellGroupData[{
Cell[668, 25, 1225, 30, 179, "Input"],
Cell[1896, 57, 1009, 15, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[2942, 77, 2281, 54, 243, "Input"],
Cell[5226, 133, 1029, 16, 31, "Output"],
Cell[6258, 151, 1000, 16, 31, "Output"],
Cell[7261, 169, 993, 15, 31, "Output"],
Cell[8257, 186, 1011, 16, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9305, 207, 6841, 188, 694, "Input"],
Cell[16149, 397, 1395, 23, 31, "Output"],
Cell[17547, 422, 1297, 19, 31, "Output"],
Cell[18847, 443, 1292, 19, 31, "Output"],
Cell[20142, 464, 3009, 72, 90, "Output"],
Cell[23154, 538, 2280, 50, 60, "Output"],
Cell[25437, 590, 2894, 68, 63, "Output"],
Cell[28334, 660, 2771, 66, 50, "Output"],
Cell[31108, 728, 2658, 64, 50, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[33803, 797, 3535, 104, 200, "Input"],
Cell[37341, 903, 984, 15, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[38362, 923, 7070, 177, 532, "Input"],
Cell[45435, 1102, 565, 14, 31, "Output"],
Cell[46003, 1118, 1751, 51, 75, "Output"],
Cell[47757, 1171, 3765, 105, 140, "Output"],
Cell[51525, 1278, 3563, 102, 98, "Output"]
}, Open  ]],
Cell[55103, 1383, 91, 1, 31, InheritFromParent],
Cell[55197, 1386, 85, 1, 31, InheritFromParent],
Cell[55285, 1389, 96, 1, 31, InheritFromParent],
Cell[55384, 1392, 91, 1, 31, InheritFromParent],
Cell[55478, 1395, 85, 1, 31, InheritFromParent],
Cell[55566, 1398, 86, 1, 31, InheritFromParent],
Cell[CellGroupData[{
Cell[55677, 1403, 2764, 68, 340, "Input"],
Cell[58444, 1473, 1284, 21, 31, "Output"],
Cell[59731, 1496, 1614, 37, 34, "Output"],
Cell[61348, 1535, 1482, 32, 34, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[62867, 1572, 3649, 94, 280, "Input"],
Cell[66519, 1668, 1043, 16, 31, "Output"],
Cell[67565, 1686, 15918, 462, 360, "Output"],
Cell[CellGroupData[{
Cell[83508, 2152, 1517, 28, 23, "Print"],
Cell[85028, 2182, 1463, 27, 23, "Print"],
Cell[86494, 2211, 1522, 28, 23, "Print"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
